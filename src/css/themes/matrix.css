/**
 * MATRIX THEME
 *
 * Black background, bright green text. Monospace everything.
 * "I'm in." — every movie hacker, ever.
 */

@import url("https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Source+Code+Pro:wght@300;400;500;600;700&display=swap");

[data-theme="matrix"] {
  /* Surface — pure black void */
  --surface: oklch(5% 0.01 145);
  --surface-dim: oklch(3% 0 0);
  --surface-bright: oklch(15% 0.02 145);
  --surface-container-lowest: oklch(4% 0 0);
  --surface-container-low: oklch(8% 0.01 145);
  --surface-container: oklch(12% 0.02 145);
  --surface-container-high: oklch(16% 0.02 145);
  --surface-container-highest: oklch(20% 0.03 145);

  /* On-surface — green phosphor glow */
  --on-surface: oklch(82% 0.2 145);
  --on-surface-variant: oklch(60% 0.12 145);

  /* Primary — bright matrix green */
  --primary: oklch(78% 0.22 145);
  --on-primary: oklch(5% 0.02 145);
  --primary-container: oklch(25% 0.1 145);
  --on-primary-container: oklch(85% 0.18 145);

  /* Secondary — dimmer green */
  --secondary: oklch(55% 0.12 145);
  --on-secondary: oklch(5% 0 0);
  --secondary-container: oklch(18% 0.06 145);
  --on-secondary-container: oklch(75% 0.12 145);

  /* Tertiary — cyan accent for variety */
  --tertiary: oklch(70% 0.12 190);
  --on-tertiary: oklch(5% 0 0);
  --tertiary-container: oklch(22% 0.06 190);
  --on-tertiary-container: oklch(82% 0.1 190);

  /* Semantic states */
  --error: oklch(65% 0.2 25);
  --on-error: oklch(5% 0 0);
  --error-container: oklch(20% 0.08 25);
  --on-error-container: oklch(85% 0.1 25);

  --success: oklch(78% 0.22 145);
  --on-success: oklch(5% 0 0);
  --success-container: oklch(20% 0.08 145);
  --on-success-container: oklch(85% 0.15 145);

  --warning: oklch(75% 0.15 100);
  --on-warning: oklch(10% 0 0);
  --warning-container: oklch(25% 0.08 100);
  --on-warning-container: oklch(85% 0.1 100);

  --info: oklch(65% 0.1 190);
  --on-info: oklch(5% 0 0);
  --info-container: oklch(20% 0.06 190);
  --on-info-container: oklch(82% 0.08 190);

  /* Outline — dark green borders */
  --outline: oklch(40% 0.1 145);
  --outline-variant: oklch(22% 0.06 145);

  /* Inverse */
  --inverse-surface: oklch(85% 0.15 145);
  --inverse-on-surface: oklch(10% 0.02 145);
  --inverse-primary: oklch(35% 0.15 145);

  --scrim: oklch(0% 0 0 / 0.8);
  --shadow: oklch(0% 0 0 / 0.8);

  /* Typography — monospace everything */
  --font-display: "Share Tech Mono", monospace;
  --font-body: "Source Code Pro", monospace;

  .app-header {
    background: oklch(8% 0.02 145);
    color: oklch(78% 0.22 145);
    border-bottom: 1px solid oklch(40% 0.15 145);
  }

  .app-header__secondary-nav {
    background: oklch(6% 0.01 145);
  }

  & body {
    font-family: "Source Code Pro", monospace;
  }

  & h1,
  & h2,
  & h3 {
    font-family: "Share Tech Mono", monospace;
  }

  /* Digital rain overlay — multiple falling gradient streams at different speeds */
  & #app::after {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 9999;
    background-image:
      /* Each layer is a thin column "raindrop" — a short bright streak fading to transparent */
      linear-gradient(to bottom, transparent 0%, rgba(0, 255, 70, 0.06) 15%, rgba(0, 255, 70, 0.12) 50%, transparent 85%),
      linear-gradient(to bottom, transparent 0%, rgba(0, 255, 70, 0.04) 20%, rgba(0, 255, 70, 0.09) 55%, transparent 90%),
      linear-gradient(to bottom, transparent 0%, rgba(0, 255, 70, 0.07) 10%, rgba(0, 255, 70, 0.14) 45%, transparent 80%),
      linear-gradient(to bottom, transparent 0%, rgba(0, 255, 70, 0.05) 25%, rgba(0, 255, 70, 0.10) 60%, transparent 85%),
      linear-gradient(to bottom, transparent 0%, rgba(0, 255, 70, 0.03) 15%, rgba(0, 255, 70, 0.08) 50%, transparent 90%),
      linear-gradient(to bottom, transparent 0%, rgba(0, 255, 70, 0.06) 20%, rgba(0, 255, 70, 0.11) 55%, transparent 85%);
    background-size:
      2px 220px,
      2px 180px,
      2px 260px,
      2px 200px,
      2px 240px,
      2px 190px;
    background-position:
      8% 0,    32% 0,   55% 0,
      78% 0,   18% 0,   91% 0;
    background-repeat: repeat-y;
    animation: matrix-rain 8s linear infinite;
  }
}

@keyframes matrix-rain {
  from { background-position:  8% 0,      32% -100px,  55% -50px,  78% -150px, 18% -80px,  91% -30px; }
  to   { background-position:  8% 440px,  32% 260px,   55% 470px,  78% 350px,  18% 400px,  91% 350px; }
}
