import{_ as k}from"./Accordion.vue_vue_type_script_setup_true_lang.js";import{c as v,W as w,u as b,a as x}from"./WidgetList.js";import{a as f,e as c,o,j as i,m,M as A,g as _,k as u,u as s,t as p,h as y,l as R,N as T,f as I,n as $,F as W,x as N,q as D}from"./index.js";import{u as H}from"./AssetViewPage.js";import{T as L}from"./ThumbnailImage.js";import{I as j}from"./Icon.js";import{a as S,_ as V}from"./Link.vue_vue_type_script_setup_true_lang.js";import"./DefaultLayout.vue_vue_type_script_setup_true_lang.js";function g(e){var t,a;return(a=(t=e==null?void 0:e.relatedAssetTitle)==null?void 0:t[0])!=null?a:"(No Title)"}const B={class:"accordion-related-asset-widget-item"},F={key:0,class:"flex gap-2 items-center w-full flex-1"},O={class:"w-[2rem] h-[2rem] overflow-hidden rounded border"},U=["src","alt"],q=f({__name:"AccordionRelatedAssetWidgetItem",props:{assetId:null,assetCache:null},setup(e){const t=e,a=c(()=>g(t.assetCache));return(n,r)=>{var d;return o(),i("div",B,[m(k,{label:s(a)},A({default:_(()=>[m(w,{assetId:e.assetId},null,8,["assetId"]),R(n.$slots,"default")]),_:2},[(d=e.assetCache)!=null&&d.primaryHandler?{name:"label",fn:_(()=>{var l;return[(l=e.assetCache)!=null&&l.primaryHandler?(o(),i("div",F,[u("div",O,[u("img",{src:s(v)(e.assetCache.primaryHandler),alt:s(a),class:"object-cover w-full h-full"},null,8,U)]),u("h3",null,p(s(a)),1)])):y("",!0)]}),key:"0"}:void 0]),1032,["label"])])}}}),E={key:0,class:"collapsed-inline-related-asset-widget-item flex flex-col gap-8"},M=f({__name:"CollapsedInlineRelatedAssetWidgetItem",props:{assetId:null,assetCache:null},setup(e){const t=e,a=c(()=>g(t.assetCache)),n=c(()=>t.assetId),{asset:r}=b(n);return(d,l)=>s(r)?(o(),i("section",E,[u("h3",null,p(s(a)),1),m(w,{assetId:e.assetId},null,8,["assetId"])])):y("",!0)}}),z={key:1},G=$("image"),J=f({__name:"ThumbnailRelatedAssetWidgetItem",props:{assetId:null,assetCache:null},setup(e){const t=e,a=H(),n=c(()=>g(t.assetCache)),r=c(()=>a.activeObjectId===t.assetId);return(d,l)=>{const h=T("RouterLink");return o(),I(h,{title:s(n),class:"inline-block mr-2 last:mr-0",to:`#${e.assetId}`},{default:_(()=>[e.assetCache.primaryHandler?(o(),I(L,{key:0,src:s(v)(e.assetCache.primaryHandler),alt:s(n),isActive:s(r),iconOnHover:"arrow_forward"},null,8,["src","alt","isActive"])):(o(),i("div",z,[m(j,null,{default:_(()=>[G]),_:1}),u("p",null,p(s(n)),1)]))]),_:1},8,["title","to"])}}}),K={class:"linked-related-asset-widget-item"},P=f({__name:"LinkedRelatedAssetWidgetItem",props:{assetId:null,assetCache:null},setup(e){const t=e,a=c(()=>g(t.assetCache)),n=c(()=>x(t.assetId));return(r,d)=>(o(),i("div",K,[m(S,{to:s(n)},{default:_(()=>[$(p(s(a)),1)]),_:1},8,["to"])]))}}),Q={class:"related-asset-widget"},X={class:"flex justify-end items-center gap-2"},oe=f({__name:"RelatedAssetWidget",props:{widget:null,contents:null,asset:null},setup(e){const t=e,a=c(()=>t.widget.fieldData.collapseNestedChildren?M:t.widget.fieldData.thumbnailView?J:t.widget.fieldData.nestData?q:P),n=c(()=>t.contents.filter(r=>!!r.targetAssetId));return(r,d)=>(o(),i("div",Q,[(o(!0),i(W,null,N(s(n),l=>{var h,C;return o(),I(D(s(a)),{key:l.targetAssetId,assetId:l.targetAssetId,assetCache:(h=e.asset.relatedAssetCache)==null?void 0:h[l.targetAssetId],label:(C=l.label)!=null?C:""},{default:_(()=>[u("div",X,[m(V,{to:`/asset/viewAsset/${l.targetAssetId}`},null,8,["to"])])]),_:2},1032,["assetId","assetCache","label"])}),128))]))}});export{oe as default};
//# sourceMappingURL=RelatedAssetWidget.js.map
