import{d as C,l as i,z as h,n as g,p as w,o as y,b as _,a as p,F as M,r as x,D as k,C as z,h as $,_ as G}from"./index.js";import{a as I}from"./DefaultLayout.js";import{m as l,M as q}from"./mapConstants.js";import"./AssetViewPage.js";import"./ThumbnailImage.js";const R=s=>s.addControl(new l.exports.FullscreenControl({container:document.querySelector("body")})).addControl(new l.exports.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0})).addControl(new l.exports.ScaleControl({unit:"imperial"})),A={class:"maplibre-map"},B={class:"flex gap-4 justify-end items-center my-2"},E=["onClick"],K=C({__name:"Map",props:{center:{type:null,required:!0},zoom:{type:Number,required:!0},apiKey:{type:String,required:!0},esriSourceUrl:{type:String,required:!1}},emits:["click","load"],setup(s,{emit:u}){const o=s,n=i(null),e=i(null),d={satellite:{label:"Satellite",name:"ArcGIS:Imagery",type:"style"},streets:{label:"Street",name:"ArcGIS:Navigation",type:"style"}},a=i("satellite"),m=t=>{const v="https://basemaps-api.arcgis.com/arcgis/rest/services/styles",{name:c,type:r,url:f}=d[t];return f||`${v}/${c}?type=${r}&token=${o.apiKey}`},b=t=>{a.value=t};function S(){!e.value||e.value.setStyle(m(a.value))}return h(a,S),g(()=>{if(!n.value)throw Error("Cannot create Map: container not defined:");e.value=R(new l.exports.Map({container:n.value,center:o.center?[o.center.lng,o.center.lat]:[0,0],style:m(a.value),zoom:o.zoom})),e.value.on("click",t=>{if(!e.value)throw new Error("there was a click but no map");u("click",t,e.value)}),e.value.on("load",()=>{if(!e.value)throw new Error("cannot emit load event: no mapRef");u("load",e.value)}),I(n,()=>{!e.value||e.value.resize()})}),w(q,e),(t,v)=>(y(),_("div",A,[p("div",B,[(y(),_(M,null,x(d,(c,r)=>p("button",{key:r,class:k(["text-sm uppercase",{"font-bold border-b-2 border-b-neutral-900":r===a.value,"text-neutral-500":r!==a.value}]),onClick:f=>b(r)},z(c.label),11,E)),64))]),p("div",{ref_key:"mapContainerRef",ref:n,class:"map-container"},null,512),$(t.$slots,"default",{},void 0,!0)]))}});const L=G(K,[["__scopeId","data-v-8b4ea7f5"],["__file","/opt/elevator/assets/elevator-ui/src/components/Map/Map.vue"]]);export{L as default};
//# sourceMappingURL=Map.js.map
