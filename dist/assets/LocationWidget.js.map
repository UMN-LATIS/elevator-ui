{"version":3,"mappings":"yqBAoDMA,EAAMC,EAAqB,IAAMC,aAAO,YAA2B,8MACnEC,EAAYF,EAChB,UAAM,OAAO,kMAUTG,EAAMC,EAAS,IAAc,WACjC,OAAOC,UAAM,gBAAgB,MAAtB,cAA2B,cAA3B,cAAyC,KAAzC,OAA+C,EACvD,EAEKC,EAAMF,EAAS,IAAc,WACjC,OAAOC,UAAM,gBAAgB,MAAtB,cAA2B,cAA3B,cAAyC,KAAzC,OAA+C,EACvD,EAEKE,EAASH,EAAS,IAAeE,EAAI,MAAQA,EAAI,MAAM,QAAQ,CAAC,EAAI,GAAI,EACxEE,EAASJ,EAAS,IAAeD,EAAI,MAAQA,EAAI,MAAM,QAAQ,CAAC,EAAI,GAAI,EAExEM,EAAYL,EAChB,KACG,CACC,IAAKE,EAAI,MACT,IAAKH,EAAI,OACX,EAGEO,EAAgBN,EACpB,WACG,WAAM,gBAAgB,eAAiBO,EAAM,gBAAgB,UAA7D,OACD,OAGEC,EAAcR,EAAS,IACpBE,EAAI,QAAU,GAAKH,EAAI,QAAU,CACzC,EAEKU,EAASC,EAAI,EAAK","names":["Map","defineAsyncComponent","__vitePreload","MapMarker","lat","computed","_c","lng","lngStr","latStr","mapCenter","locationLabel","props","hasLocation","isOpen","ref"],"sources":["../../src/components/Widget/LocationWidget/LocationItem.vue"],"sourcesContent":["<template>\n  <Accordion>\n    <template #label>\n      <div v-if=\"!locationLabel\" class=\"flex gap-6\">\n        <Tuple label=\"Latitude\" class=\"w-auto\" variant=\"inline\">{{\n          latStr\n        }}</Tuple>\n        <Tuple label=\"Longitude\" class=\"w-auto\" variant=\"inline\">{{\n          lngStr\n        }}</Tuple>\n      </div>\n      <span v-else>{{ locationLabel }}</span>\n    </template>\n    <div v-if=\"locationLabel\" class=\"my-4 flex gap-4 w-min\">\n      <Tuple label=\"Latitude\" class=\"w-auto\">{{ latStr }}</Tuple>\n      <Tuple label=\"Longitude\" class=\"w-auto\">{{ lngStr }}</Tuple>\n    </div>\n    <Button\n      v-if=\"hasLocation\"\n      icon=\"map\"\n      iconPosition=\"start\"\n      @click=\"isOpen = true\"\n      >Show Location</Button\n    >\n  </Accordion>\n\n  <Modal :isOpen=\"isOpen\" :label=\"locationLabel\" @close=\"isOpen = false\">\n    <Map\n      :center=\"mapCenter\"\n      :zoom=\"10\"\n      mapStyle=\"streets\"\n      :apiKey=\"config.arcgis.apiKey\"\n      class=\"rounded bg-neutral-100 p-1\"\n    >\n      <MapMarker :lng=\"mapCenter.lng\" :lat=\"mapCenter.lat\" />\n    </Map>\n    <div class=\"my-4 flex gap-4 w-min\">\n      <Tuple label=\"Latitude\" class=\"w-auto\">{{ latStr }}</Tuple>\n      <Tuple label=\"Longitude\" class=\"w-auto\">{{ lngStr }}</Tuple>\n    </div>\n  </Modal>\n</template>\n\n<script setup lang=\"ts\">\nimport { LocationWidgetProps, LocationWidgetContent, LngLat } from \"@/types\";\nimport { computed, ref, defineAsyncComponent } from \"vue\";\nimport Modal from \"@/components/Modal/Modal.vue\";\nimport config from \"@/config\";\nimport Tuple from \"@/components/Tuple/Tuple.vue\";\nimport Button from \"@/components/Button/Button.vue\";\nimport Accordion from \"@/components/Accordion/Accordion.vue\";\n\nconst Map = defineAsyncComponent(() => import(\"@/components/Map/Map.vue\"));\nconst MapMarker = defineAsyncComponent(\n  () => import(\"@/components/MapMarker/MapMarker.vue\")\n);\n\ninterface Props {\n  locationContent: LocationWidgetContent;\n  widget: LocationWidgetProps;\n}\n\nconst props = defineProps<Props>();\n\nconst lat = computed((): number => {\n  return props.locationContent.loc?.coordinates?.[1] ?? 0;\n});\n\nconst lng = computed((): number => {\n  return props.locationContent.loc?.coordinates?.[0] ?? 0;\n});\n\nconst lngStr = computed((): string => (lng.value ? lng.value.toFixed(4) : \"-\"));\nconst latStr = computed((): string => (lat.value ? lat.value.toFixed(4) : \"-\"));\n\nconst mapCenter = computed(\n  () =>\n    ({\n      lng: lng.value,\n      lat: lat.value,\n    } as LngLat)\n);\n\nconst locationLabel = computed(\n  () =>\n    (props.locationContent.locationLabel || props.locationContent.address) ??\n    null\n);\n\nconst hasLocation = computed(() => {\n  return lng.value !== 0 && lat.value !== 0;\n});\n\nconst isOpen = ref(false);\n</script>\n"],"file":"assets/LocationWidget.js"}