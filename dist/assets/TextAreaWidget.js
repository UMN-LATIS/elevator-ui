import{b as U,c as X}from"./index2.js";import{I as Y}from"./Icon.js";import{a as D,r as N,G as Z,o as d,j as v,h as B,k as W,n as E,t as F,m as $,g as P,F as z,x as ee}from"./index.js";/**
  shave - Shave is a javascript plugin that truncates multi-line text within a html element based on set max height
  @version v5.0.0
  @link https://github.com/yowainwright/shave#readme
  @author Jeff Wainwright <yowainwright@gmail.com> (jeffry.in)
  @license MIT
**/function I(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),o,a=[],c;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(h){c={error:h}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(c)throw c.error}}return a}function O(t,r,e){if(e||arguments.length===2)for(var n=0,o=r.length,a;n<o;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return t.concat(a||Array.prototype.slice.call(r))}function ne(t){return typeof t=="string"?O([],I(document.querySelectorAll(t)),!1):"length"in t?O([],I(t),!1):[t]}function te(t,r,e){if(e===void 0&&(e={}),typeof r>"u"||isNaN(r))throw Error("maxHeight is required");var n=ne(t);if(!!n.length)for(var o=e.character,a=o===void 0?"\u2026":o,c=e.classname,h=c===void 0?"js-shave":c,m=e.spaces,b=m===void 0?!0:m,k=e.charclassname,A=k===void 0?"js-shave-char":k,H=e.link,u=H===void 0?{}:H,C=typeof b=="boolean"?b:!0,j=u&&JSON.stringify(u)!=="{}"&&u.href,G=j?"a":"span",x=0;x<n.length;x+=1){var i=n[x],l=i.style,J=i.querySelector("."+h),g=i.textContent===void 0?"innerText":"textContent";J&&(i.removeChild(i.querySelector("."+A)),i[g]=i[g]);var S=i[g],s=C?S.split(" "):S;if(!(s.length<2)){var T=l.height;l.height="auto";var M=l.maxHeight;if(l.maxHeight="none",i.offsetHeight<=r){l.height=T,l.maxHeight=M;continue}var R=j&&u.textContent?u.textContent:a,_=document.createElement(G),q={className:A,textContent:R};for(var w in q)_[w]=q[w],_.textContent=a;if(j)for(var V in u)_[V]=u[V];for(var f=s.length-1,L=0,y=void 0;L<f;)y=L+f+1>>1,i[g]=C?s.slice(0,y).join(" "):s.slice(0,y),i.insertAdjacentElement("beforeend",_),i.offsetHeight>r?f=y-1:L=y;i[g]=C?s.slice(0,f).join(" "):s.slice(0,f),i.insertAdjacentElement("beforeend",_);var K=C?" ".concat(s.slice(f).join(" ")):s.slice(f),Q=document.createTextNode(K),p=document.createElement("span");p.classList.add(h),p.style.display="none",p.appendChild(Q),i.insertAdjacentElement("beforeend",p),l.height=T,l.maxHeight=M}}}const re=["innerHTML"],ae=["innerHTML"],ie=D({__name:"TextAreaItem",props:{fieldContents:null,widget:null,textTruncationLength:{default:75}},setup(t){const r=t,e=N(!1),n=N(null),o=N(!1),a=X(()=>{c()},50);function c(){!n.value||(te([n.value],r.textTruncationLength),o.value=n.value.querySelector(".js-shave")!==null)}return U(n,a),Z(()=>{c()}),(h,m)=>(d(),v(z,null,[e.value?B("",!0):(d(),v("div",{key:0,ref_key:"truncateText",ref:n,innerHTML:t.fieldContents},null,8,re)),e.value?(d(),v("div",{key:1,innerHTML:t.fieldContents},null,8,ae)):B("",!0),W("button",{class:"flex items-center uppercase text-xs text-blue-600",onClick:m[0]||(m[0]=b=>e.value=!e.value)},[E(" Show "+F(e.value?"Less":"More")+" ",1),$(Y,null,{default:P(()=>[E(F(e.value?"expand_less":"expand_more"),1)]),_:1})])],64))}}),se=D({__name:"TextAreaWidget",props:{widget:null,contents:null},setup(t){return(r,e)=>(d(),v("ul",null,[(d(!0),v(z,null,ee(t.contents,(n,o)=>{var a;return d(),v("li",{key:o},[$(ie,{widget:t.widget,fieldContents:(a=n.fieldContents)!=null?a:""},null,8,["widget","fieldContents"])])}),128))]))}});export{se as default};
//# sourceMappingURL=TextAreaWidget.js.map
