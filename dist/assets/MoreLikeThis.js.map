{"version":3,"file":"MoreLikeThis.js","sources":["../../src/components/SearchResultCard/SearchResultCard.vue","../../src/components/MoreLikeThis/MoreLikeThis.vue"],"sourcesContent":["<template>\n  <MediaCard\n    :imgSrc=\"thumbnailImgSrc\"\n    :imgAlt=\"title\"\n    class=\"hover:shadow-lg transition-shadow\"\n  >\n    <div class=\"h-full pb-16 relative\">\n      <Link :to=\"getAssetUrl(searchMatch.objectId)\"\n        ><h1 class=\"font-bold text-xl mb-2 text-neutral-900\">\n          {{ title }}\n        </h1>\n      </Link>\n      <dl v-if=\"props.searchMatch?.entries\" class=\"grid gap-3\">\n        <template\n          v-for=\"(entry, index) in props.searchMatch.entries\"\n          :key=\"index\"\n        >\n          <div>\n            <dt\n              class=\"text-xs text-neutral-400 uppercase col-span-1 flex items-start justify-start hyphens\"\n            >\n              {{ entry?.label || \"Item\" }}\n            </dt>\n            <dd class=\"text-sm col-span-2\">\n              {{ entry.entries?.join(\", \") }}\n            </dd>\n          </div>\n        </template>\n      </dl>\n      <ArrowButton\n        :to=\"getAssetUrl(searchMatch.objectId)\"\n        class=\"absolute bottom-0 right-0\"\n      />\n    </div>\n  </MediaCard>\n</template>\n\n<script lang=\"ts\" setup>\nimport { SearchResultMatch } from \"@/types\";\nimport { getAssetUrl, getThumbURL } from \"@/helpers/displayUtils\";\nimport { computed } from \"vue\";\nimport MediaCard from \"../MediaCard/MediaCard.vue\";\nimport ArrowButton from \"../ArrowButton/ArrowButton.vue\";\nimport Link from \"@/components/Link/Link.vue\";\n\nconst props = defineProps<{\n  searchMatch: SearchResultMatch;\n}>();\n\nconst title = computed(() => {\n  if (Array.isArray(props.searchMatch.title)) {\n    return props.searchMatch.title.join(\",\");\n  }\n\n  if (props.searchMatch.title && props.searchMatch.title.length > 0) {\n    return props.searchMatch.title;\n  }\n\n  return \"(no title)\";\n});\n\nconst thumbnailImgSrc = computed(() => {\n  const { primaryHandlerId } = props.searchMatch;\n  return primaryHandlerId ? getThumbURL(primaryHandlerId) : null;\n});\n</script>\n\n<style scoped>\nimg {\n  max-width: 100%;\n}\n\n.hyphens-auto {\n  hyphens: auto;\n}\n</style>\n","<template>\n  <div v-if=\"items.length\" class=\"border-t border-neutral-900 mt-6 pt-6\">\n    <h3\n      class=\"font-bold text-xl text-neutral-900 flex items-center gap-2 flex-wrap mb-4\"\n    >\n      More Like This\n      <span\n        class=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-normal bg-neutral-900 text-neutral-100\"\n      >\n        {{ items.length }}\n      </span>\n    </h3>\n\n    <SearchResultCard\n      v-for=\"searchMatch in items\"\n      :key=\"searchMatch.objectId\"\n      :searchMatch=\"searchMatch\"\n    />\n  </div>\n</template>\n<script setup lang=\"ts\">\nimport { onMounted, ref, watch } from \"vue\";\nimport { SearchResultMatch } from \"@/types\";\nimport SearchResultCard from \"../SearchResultCard/SearchResultCard.vue\";\nimport api from \"@/helpers/api\";\n\nconst props = defineProps<{\n  assetId: string;\n}>();\n\nconst items = ref<SearchResultMatch[]>([]);\n\nwatch(\n  () => props.assetId,\n  async () => {\n    items.value = await api.getMoreLikeThis(props.assetId);\n  },\n  { immediate: true }\n);\nonMounted(() => {\n  console.log(\"MoreLikeThis mounted\");\n});\n</script>\n<style scoped></style>\n"],"names":["title","computed","props","thumbnailImgSrc","primaryHandlerId","getThumbURL","items","ref","watch","api","onMounted"],"mappings":"+pCAiDMA,EAAQC,EAAS,IACjB,MAAM,QAAQC,EAAM,YAAY,KAAK,EAChCA,EAAM,YAAY,MAAM,KAAK,GAAG,EAGrCA,EAAM,YAAY,OAASA,EAAM,YAAY,MAAM,OAAS,EACvDA,EAAM,YAAY,MAGpB,YACR,EAEKC,EAAkBF,EAAS,IAAM,CAC/B,KAAA,CAAE,iBAAAG,CAAiB,EAAIF,EAAM,YAC5B,OAAAE,EAAmBC,EAAYD,CAAgB,EAAI,IAAA,CAC3D,q+BClCKE,EAAQC,EAAyB,CAAA,CAAE,EAEzC,OAAAC,EACE,IAAMN,EAAM,QACZ,SAAY,CACVI,EAAM,MAAQ,MAAMG,EAAI,gBAAgBP,EAAM,OAAO,CACvD,EACA,CAAE,UAAW,EAAK,CAAA,EAEpBQ,EAAU,IAAM,CACd,QAAQ,IAAI,sBAAsB,CAAA,CACnC"}