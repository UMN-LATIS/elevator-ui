import{d as u,o as t,b as o,a as r,c as h,h as w,_,f as g,w as v,e as x,C as i,u as l,F as b,r as k,G as y,l as C,z as I,n as L,M as $}from"./index.js";import{g as A,a as M,L as T,A as j,b as R}from"./AssetViewPage.js";import{I as B}from"./ThumbnailImage.js";import"./DefaultLayout.js";const q={class:"border shadow-sm rounded-md overflow-hidden flex flex-col"},N={class:"placeholder-image bg-neutral-300 w-full aspect-video flex justify-center items-center overflow-hidden"},V=["src","alt"],U={class:"p-4 bg-white flex-1"},z=u({__name:"MediaCard",props:{imgSrc:{type:[String,null],required:!1},imgAlt:{type:[String,null],required:!1}},setup(s){return(e,a)=>(t(),o("article",q,[r("div",N,[s.imgSrc?(t(),o("img",{key:0,src:s.imgSrc,alt:s.imgAlt||"Untitled",loading:"lazy",class:"w-full h-full object-cover"},null,8,V)):(t(),h(B,{key:1}))]),r("div",U,[w(e.$slots,"default")])]))}}),F=_(z,[["__file","/opt/elevator/assets/elevator-ui/src/components/MediaCard/MediaCard.vue"]]),D={class:"h-full pb-16 relative"},E={class:"font-bold text-xl mb-2 text-neutral-900"},G={key:0,class:"grid gap-3"},H={class:"text-xs text-neutral-400 uppercase col-span-1 flex items-start justify-start hyphens"},J={class:"text-sm col-span-2"},K=u({__name:"SearchResultCard",props:{searchMatch:{type:null,required:!0}},setup(s){const e=s,a=g(()=>Array.isArray(e.searchMatch.title)?e.searchMatch.title.join(","):e.searchMatch.title&&e.searchMatch.title.length>0?e.searchMatch.title:"(no title)"),m=g(()=>{const{primaryHandlerId:c}=e.searchMatch;return c?A(c):null});return(c,d)=>(t(),h(F,{imgSrc:l(m),imgAlt:l(a),class:"hover:shadow-lg transition-shadow"},{default:v(()=>{var p;return[r("div",D,[x(T,{to:l(M)(s.searchMatch.objectId)},{default:v(()=>[r("h1",E,i(l(a)),1)]),_:1},8,["to"]),(p=e.searchMatch)!=null&&p.entries?(t(),o("dl",G,[(t(!0),o(b,null,k(e.searchMatch.entries,(n,S)=>{var f;return t(),o("div",{key:S},[r("dt",H,i((n==null?void 0:n.label)||"Item"),1),r("dd",J,i((f=n.entries)==null?void 0:f.join(", ")),1)])}),128))])):y("v-if",!0),x(j,{to:l(M)(s.searchMatch.objectId),class:"absolute bottom-0 right-0"},null,8,["to"])])]}),_:1},8,["imgSrc","imgAlt"]))}});const O=_(K,[["__scopeId","data-v-c7907e1c"],["__file","/opt/elevator/assets/elevator-ui/src/components/SearchResultCard/SearchResultCard.vue"]]),P={key:0,class:"border-t border-neutral-900 mt-6 pt-6"},Q={class:"font-bold text-xl text-neutral-900 flex items-center gap-2 flex-wrap mb-4"},W=$(" More Like This "),X={class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-normal bg-neutral-900 text-neutral-100"},Y=u({__name:"MoreLikeThis",props:{assetId:{type:String,required:!0}},setup(s){const e=s,a=C([]);return I(()=>e.assetId,async()=>{a.value=await R.getMoreLikeThis(e.assetId)},{immediate:!0}),L(()=>{console.log("MoreLikeThis mounted")}),(m,c)=>a.value.length?(t(),o("div",P,[r("h3",Q,[W,r("span",X,i(a.value.length),1)]),(t(!0),o(b,null,k(a.value,d=>(t(),h(O,{key:d.objectId,searchMatch:d},null,8,["searchMatch"]))),128))])):y("v-if",!0)}}),ae=_(Y,[["__file","/opt/elevator/assets/elevator-ui/src/components/MoreLikeThis/MoreLikeThis.vue"]]);export{ae as default};
//# sourceMappingURL=MoreLikeThis.js.map
