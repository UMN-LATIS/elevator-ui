import{E as R,H as In,d as y,n as tt,o,b as u,u as c,a as _,C as I,I as Cn,J as kn,_ as h,G as A,c as b,h as S,e as p,D as z,K as On,L as Sn,m as nt,M as O,f as $,F as C,r as q,w as m,l as L,t as En,N as Rn,O as Dn,P as ie,B as oe,g as Te,Q as qn,z as Ye,S as Ln,R as jn,T as Wn,U as Bn,V as Fn,W as Mn}from"./index.js";import{C as st,a as Nn,b as Pn,B as Ie,c as Un,d as Vn,e as _t,D as Hn}from"./DefaultLayout.js";import{T as Gt,I as zn,A as Jn}from"./ThumbnailImage.js";var pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qt={exports:{}},rt={exports:{}},Yt=function(t,n){return function(){for(var r=new Array(arguments.length),a=0;a<r.length;a++)r[a]=arguments[a];return t.apply(n,r)}},Kn=Yt,at=Object.prototype.toString,it=function(e){return function(t){var n=at.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function ee(e){return e=e.toLowerCase(),function(n){return it(n)===e}}function ot(e){return Array.isArray(e)}function $e(e){return typeof e>"u"}function Gn(e){return e!==null&&!$e(e)&&e.constructor!==null&&!$e(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var Zt=ee("ArrayBuffer");function Qn(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Zt(e.buffer),t}function Yn(e){return typeof e=="string"}function Zn(e){return typeof e=="number"}function en(e){return e!==null&&typeof e=="object"}function be(e){if(it(e)!=="object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}var es=ee("Date"),ts=ee("File"),ns=ee("Blob"),ss=ee("FileList");function lt(e){return at.call(e)==="[object Function]"}function rs(e){return en(e)&&lt(e.pipe)}function as(e){var t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||at.call(e)===t||lt(e.toString)&&e.toString()===t)}var is=ee("URLSearchParams");function os(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function ls(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function ut(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),ot(e))for(var n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}function Ze(){var e={};function t(r,a){be(e[a])&&be(r)?e[a]=Ze(e[a],r):be(r)?e[a]=Ze({},r):ot(r)?e[a]=r.slice():e[a]=r}for(var n=0,s=arguments.length;n<s;n++)ut(arguments[n],t);return e}function us(e,t,n){return ut(t,function(r,a){n&&typeof r=="function"?e[a]=Kn(r,n):e[a]=r}),e}function cs(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function ds(e,t,n,s){e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)}function fs(e,t,n){var s,r,a,i={};t=t||{};do{for(s=Object.getOwnPropertyNames(e),r=s.length;r-- >0;)a=s[r],i[a]||(t[a]=e[a],i[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t}function ps(e,t,n){e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;var s=e.indexOf(t,n);return s!==-1&&s===n}function vs(e){if(!e)return null;var t=e.length;if($e(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n}var hs=function(e){return function(t){return e&&t instanceof e}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),j={isArray:ot,isArrayBuffer:Zt,isBuffer:Gn,isFormData:as,isArrayBufferView:Qn,isString:Yn,isNumber:Zn,isObject:en,isPlainObject:be,isUndefined:$e,isDate:es,isFile:ts,isBlob:ns,isFunction:lt,isStream:rs,isURLSearchParams:is,isStandardBrowserEnv:ls,forEach:ut,merge:Ze,extend:us,trim:os,stripBOM:cs,inherits:ds,toFlatObject:fs,kindOf:it,kindOfTest:ee,endsWith:ps,toArray:vs,isTypedArray:hs,isFileList:ss},se=j;function mt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var tn=function(t,n,s){if(!n)return t;var r;if(s)r=s(n);else if(se.isURLSearchParams(n))r=n.toString();else{var a=[];se.forEach(n,function(d,v){d===null||typeof d>"u"||(se.isArray(d)?v=v+"[]":d=[d],se.forEach(d,function(x){se.isDate(x)?x=x.toISOString():se.isObject(x)&&(x=JSON.stringify(x)),a.push(mt(v)+"="+mt(x))}))}),r=a.join("&")}if(r){var i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t},_s=j;function Ce(){this.handlers=[]}Ce.prototype.use=function(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1};Ce.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Ce.prototype.forEach=function(t){_s.forEach(this.handlers,function(s){s!==null&&t(s)})};var ms=Ce,gs=j,ws=function(t,n){gs.forEach(t,function(r,a){a!==n&&a.toUpperCase()===n.toUpperCase()&&(t[n]=r,delete t[a])})},nn=j;function le(e,t,n,s,r){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r)}nn.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var sn=le.prototype,rn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){rn[e]={value:e}});Object.defineProperties(le,rn);Object.defineProperty(sn,"isAxiosError",{value:!0});le.from=function(e,t,n,s,r,a){var i=Object.create(sn);return nn.toFlatObject(e,i,function(d){return d!==Error.prototype}),le.call(i,e.message,t,n,s,r),i.name=e.name,a&&Object.assign(i,a),i};var ce=le,an={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},P=j;function ys(e,t){t=t||new FormData;var n=[];function s(a){return a===null?"":P.isDate(a)?a.toISOString():P.isArrayBuffer(a)||P.isTypedArray(a)?typeof Blob=="function"?new Blob([a]):Buffer.from(a):a}function r(a,i){if(P.isPlainObject(a)||P.isArray(a)){if(n.indexOf(a)!==-1)throw Error("Circular reference detected in "+i);n.push(a),P.forEach(a,function(d,v){if(!P.isUndefined(d)){var w=i?i+"."+v:v,x;if(d&&!i&&typeof d=="object"){if(P.endsWith(v,"{}"))d=JSON.stringify(d);else if(P.endsWith(v,"[]")&&(x=P.toArray(d))){x.forEach(function(f){!P.isUndefined(f)&&t.append(w,s(f))});return}}r(d,w)}}),n.pop()}else t.append(i,s(a))}return r(e),t}var on=ys,We,gt;function bs(){if(gt)return We;gt=1;var e=ce;return We=function(n,s,r){var a=r.config.validateStatus;!r.status||!a||a(r.status)?n(r):s(new e("Request failed with status code "+r.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))},We}var Be,wt;function xs(){if(wt)return Be;wt=1;var e=j;return Be=e.isStandardBrowserEnv()?function(){return{write:function(s,r,a,i,l,d){var v=[];v.push(s+"="+encodeURIComponent(r)),e.isNumber(a)&&v.push("expires="+new Date(a).toGMTString()),e.isString(i)&&v.push("path="+i),e.isString(l)&&v.push("domain="+l),d===!0&&v.push("secure"),document.cookie=v.join("; ")},read:function(s){var r=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Be}var $s=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},As=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t},Ts=$s,Is=As,ln=function(t,n){return t&&!Ts(n)?Is(t,n):n},Fe,yt;function Cs(){if(yt)return Fe;yt=1;var e=j,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Fe=function(s){var r={},a,i,l;return s&&e.forEach(s.split(`
`),function(v){if(l=v.indexOf(":"),a=e.trim(v.substr(0,l)).toLowerCase(),i=e.trim(v.substr(l+1)),a){if(r[a]&&t.indexOf(a)>=0)return;a==="set-cookie"?r[a]=(r[a]?r[a]:[]).concat([i]):r[a]=r[a]?r[a]+", "+i:i}}),r},Fe}var Me,bt;function ks(){if(bt)return Me;bt=1;var e=j;return Me=e.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a"),r;function a(i){var l=i;return n&&(s.setAttribute("href",l),l=s.href),s.setAttribute("href",l),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return r=a(window.location.href),function(l){var d=e.isString(l)?a(l):l;return d.protocol===r.protocol&&d.host===r.host}}():function(){return function(){return!0}}(),Me}var Ne,xt;function ke(){if(xt)return Ne;xt=1;var e=ce,t=j;function n(s){e.call(this,s==null?"canceled":s,e.ERR_CANCELED),this.name="CanceledError"}return t.inherits(n,e,{__CANCEL__:!0}),Ne=n,Ne}var Pe,$t;function Os(){return $t||($t=1,Pe=function(t){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}),Pe}var Ue,At;function Tt(){if(At)return Ue;At=1;var e=j,t=bs(),n=xs(),s=tn,r=ln,a=Cs(),i=ks(),l=an,d=ce,v=ke(),w=Os();return Ue=function(f){return new Promise(function(D,U){var Y=f.data,J=f.headers,k=f.responseType,W;function me(){f.cancelToken&&f.cancelToken.unsubscribe(W),f.signal&&f.signal.removeEventListener("abort",W)}e.isFormData(Y)&&e.isStandardBrowserEnv()&&delete J["Content-Type"];var g=new XMLHttpRequest;if(f.auth){var ge=f.auth.username||"",V=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";J.Authorization="Basic "+btoa(ge+":"+V)}var ne=r(f.baseURL,f.url);g.open(f.method.toUpperCase(),s(ne,f.params,f.paramsSerializer),!0),g.timeout=f.timeout;function de(){if(!!g){var B="getAllResponseHeaders"in g?a(g.getAllResponseHeaders()):null,K=!k||k==="text"||k==="json"?g.responseText:g.response,H={data:K,status:g.status,statusText:g.statusText,headers:B,config:f,request:g};t(function(Z){D(Z),me()},function(Z){U(Z),me()},H),g=null}}if("onloadend"in g?g.onloadend=de:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(de)},g.onabort=function(){!g||(U(new d("Request aborted",d.ECONNABORTED,f,g)),g=null)},g.onerror=function(){U(new d("Network Error",d.ERR_NETWORK,f,g,g)),g=null},g.ontimeout=function(){var K=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",H=f.transitional||l;f.timeoutErrorMessage&&(K=f.timeoutErrorMessage),U(new d(K,H.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,f,g)),g=null},e.isStandardBrowserEnv()){var we=(f.withCredentials||i(ne))&&f.xsrfCookieName?n.read(f.xsrfCookieName):void 0;we&&(J[f.xsrfHeaderName]=we)}"setRequestHeader"in g&&e.forEach(J,function(K,H){typeof Y>"u"&&H.toLowerCase()==="content-type"?delete J[H]:g.setRequestHeader(H,K)}),e.isUndefined(f.withCredentials)||(g.withCredentials=!!f.withCredentials),k&&k!=="json"&&(g.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&g.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(W=function(B){!g||(U(!B||B&&B.type?new v:B),g.abort(),g=null)},f.cancelToken&&f.cancelToken.subscribe(W),f.signal&&(f.signal.aborted?W():f.signal.addEventListener("abort",W))),Y||(Y=null);var X=w(ne);if(X&&["http","https","file"].indexOf(X)===-1){U(new d("Unsupported protocol "+X+":",d.ERR_BAD_REQUEST,f));return}g.send(Y)})},Ue}var Ve,It;function Ss(){return It||(It=1,Ve=null),Ve}var E=j,Ct=ws,kt=ce,Es=an,Rs=on,Ds={"Content-Type":"application/x-www-form-urlencoded"};function Ot(e,t){!E.isUndefined(e)&&E.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function qs(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=Tt()),e}function Ls(e,t,n){if(E.isString(e))try{return(t||JSON.parse)(e),E.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}var Oe={transitional:Es,adapter:qs(),transformRequest:[function(t,n){if(Ct(n,"Accept"),Ct(n,"Content-Type"),E.isFormData(t)||E.isArrayBuffer(t)||E.isBuffer(t)||E.isStream(t)||E.isFile(t)||E.isBlob(t))return t;if(E.isArrayBufferView(t))return t.buffer;if(E.isURLSearchParams(t))return Ot(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var s=E.isObject(t),r=n&&n["Content-Type"],a;if((a=E.isFileList(t))||s&&r==="multipart/form-data"){var i=this.env&&this.env.FormData;return Rs(a?{"files[]":t}:t,i&&new i)}else if(s||r==="application/json")return Ot(n,"application/json"),Ls(t);return t}],transformResponse:[function(t){var n=this.transitional||Oe.transitional,s=n&&n.silentJSONParsing,r=n&&n.forcedJSONParsing,a=!s&&this.responseType==="json";if(a||r&&E.isString(t)&&t.length)try{return JSON.parse(t)}catch(i){if(a)throw i.name==="SyntaxError"?kt.from(i,kt.ERR_BAD_RESPONSE,this,null,this.response):i}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ss()},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};E.forEach(["delete","get","head"],function(t){Oe.headers[t]={}});E.forEach(["post","put","patch"],function(t){Oe.headers[t]=E.merge(Ds)});var ct=Oe,js=j,Ws=ct,Bs=function(t,n,s){var r=this||Ws;return js.forEach(s,function(i){t=i.call(r,t,n)}),t},He,St;function un(){return St||(St=1,He=function(t){return!!(t&&t.__CANCEL__)}),He}var Et=j,ze=Bs,Fs=un(),Ms=ct,Ns=ke();function Je(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ns}var Ps=function(t){Je(t),t.headers=t.headers||{},t.data=ze.call(t,t.data,t.headers,t.transformRequest),t.headers=Et.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Et.forEach(["delete","get","head","post","put","patch","common"],function(r){delete t.headers[r]});var n=t.adapter||Ms.adapter;return n(t).then(function(r){return Je(t),r.data=ze.call(t,r.data,r.headers,t.transformResponse),r},function(r){return Fs(r)||(Je(t),r&&r.response&&(r.response.data=ze.call(t,r.response.data,r.response.headers,t.transformResponse))),Promise.reject(r)})},N=j,cn=function(t,n){n=n||{};var s={};function r(w,x){return N.isPlainObject(w)&&N.isPlainObject(x)?N.merge(w,x):N.isPlainObject(x)?N.merge({},x):N.isArray(x)?x.slice():x}function a(w){if(N.isUndefined(n[w])){if(!N.isUndefined(t[w]))return r(void 0,t[w])}else return r(t[w],n[w])}function i(w){if(!N.isUndefined(n[w]))return r(void 0,n[w])}function l(w){if(N.isUndefined(n[w])){if(!N.isUndefined(t[w]))return r(void 0,t[w])}else return r(void 0,n[w])}function d(w){if(w in n)return r(t[w],n[w]);if(w in t)return r(void 0,t[w])}var v={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d};return N.forEach(Object.keys(t).concat(Object.keys(n)),function(x){var f=v[x]||a,T=f(x);N.isUndefined(T)&&f!==d||(s[x]=T)}),s},Xe,Rt;function dn(){return Rt||(Rt=1,Xe={version:"0.27.2"}),Xe}var Us=dn().version,Q=ce,dt={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){dt[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});var Dt={};dt.transitional=function(t,n,s){function r(a,i){return"[Axios v"+Us+"] Transitional option '"+a+"'"+i+(s?". "+s:"")}return function(a,i,l){if(t===!1)throw new Q(r(i," has been removed"+(n?" in "+n:"")),Q.ERR_DEPRECATED);return n&&!Dt[i]&&(Dt[i]=!0,console.warn(r(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,i,l):!0}};function Vs(e,t,n){if(typeof e!="object")throw new Q("options must be an object",Q.ERR_BAD_OPTION_VALUE);for(var s=Object.keys(e),r=s.length;r-- >0;){var a=s[r],i=t[a];if(i){var l=e[a],d=l===void 0||i(l,a,e);if(d!==!0)throw new Q("option "+a+" must be "+d,Q.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Q("Unknown option "+a,Q.ERR_BAD_OPTION)}}var Hs={assertOptions:Vs,validators:dt},fn=j,zs=tn,qt=ms,Lt=Ps,Se=cn,Js=ln,pn=Hs,re=pn.validators;function ue(e){this.defaults=e,this.interceptors={request:new qt,response:new qt}}ue.prototype.request=function(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Se(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var s=n.transitional;s!==void 0&&pn.assertOptions(s,{silentJSONParsing:re.transitional(re.boolean),forcedJSONParsing:re.transitional(re.boolean),clarifyTimeoutError:re.transitional(re.boolean)},!1);var r=[],a=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(n)===!1||(a=a&&T.synchronous,r.unshift(T.fulfilled,T.rejected))});var i=[];this.interceptors.response.forEach(function(T){i.push(T.fulfilled,T.rejected)});var l;if(!a){var d=[Lt,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(i),l=Promise.resolve(n);d.length;)l=l.then(d.shift(),d.shift());return l}for(var v=n;r.length;){var w=r.shift(),x=r.shift();try{v=w(v)}catch(f){x(f);break}}try{l=Lt(v)}catch(f){return Promise.reject(f)}for(;i.length;)l=l.then(i.shift(),i.shift());return l};ue.prototype.getUri=function(t){t=Se(this.defaults,t);var n=Js(t.baseURL,t.url);return zs(n,t.params,t.paramsSerializer)};fn.forEach(["delete","get","head","options"],function(t){ue.prototype[t]=function(n,s){return this.request(Se(s||{},{method:t,url:n,data:(s||{}).data}))}});fn.forEach(["post","put","patch"],function(t){function n(s){return function(a,i,l){return this.request(Se(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}ue.prototype[t]=n(),ue.prototype[t+"Form"]=n(!0)});var Xs=ue,Ke,jt;function Ks(){if(jt)return Ke;jt=1;var e=ke();function t(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var s;this.promise=new Promise(function(i){s=i});var r=this;this.promise.then(function(a){if(!!r._listeners){var i,l=r._listeners.length;for(i=0;i<l;i++)r._listeners[i](a);r._listeners=null}}),this.promise.then=function(a){var i,l=new Promise(function(d){r.subscribe(d),i=d}).then(a);return l.cancel=function(){r.unsubscribe(i)},l},n(function(i){r.reason||(r.reason=new e(i),s(r.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]},t.prototype.unsubscribe=function(s){if(!!this._listeners){var r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}},t.source=function(){var s,r=new t(function(i){s=i});return{token:r,cancel:s}},Ke=t,Ke}var Ge,Wt;function Gs(){return Wt||(Wt=1,Ge=function(t){return function(s){return t.apply(null,s)}}),Ge}var Qe,Bt;function Qs(){if(Bt)return Qe;Bt=1;var e=j;return Qe=function(n){return e.isObject(n)&&n.isAxiosError===!0},Qe}var Ft=j,Ys=Yt,xe=Xs,Zs=cn,er=ct;function vn(e){var t=new xe(e),n=Ys(xe.prototype.request,t);return Ft.extend(n,xe.prototype,t),Ft.extend(n,t),n.create=function(r){return vn(Zs(e,r))},n}var M=vn(er);M.Axios=xe;M.CanceledError=ke();M.CancelToken=Ks();M.isCancel=un();M.VERSION=dn().version;M.toFormData=on;M.AxiosError=ce;M.Cancel=M.CanceledError;M.all=function(t){return Promise.all(t)};M.spread=Gs();M.isAxiosError=Qs();rt.exports=M;rt.exports.default=M;(function(e){e.exports=rt.exports})(Qt);const he=Xn(Qt.exports),Mt=new Map,Nt=new Map,Pt=new Map,Ut=new Map,Vt=new Map;async function tr(e){var n;return(n=(await he.get(`${R.instance.base.url}/asset/viewAsset/${e}/true`)).data)!=null?n:null}async function nr(e){var n;return(n=(await he.get(`${R.instance.base.url}/assetManager/getTemplate/${e}`)).data)!=null?n:null}async function sr(e){const t=new FormData;return t.append("suppressRecent","true"),t.append("searchReleated","true"),t.append("searchQuery",JSON.stringify({searchText:e})),(await he.post(`${R.instance.base.url}/search/searchResults`,t)).data.matches.filter(s=>s.objectId!==e)}async function rr(e){return(await he.get(`${R.instance.base.url}/fileManager/getMetadataForObject/${e}`)).data}async function ar(e,t){return(await he.get(`${R.instance.base.url}/asset/getEmbedAsJson/${e}/${t!=null?t:""}`)).data}const pe={async getAssetWithTemplate(e){if(!e)return{asset:null,template:null};const t=Mt.get(e)||await tr(e);if(Mt.set(e,t),!t)return{asset:null,template:null};const n=String(t.templateId),s=Nt.get(n)||await nr(n);return Nt.set(n,s),{asset:t,template:s}},async getMoreLikeThis(e){if(!e)return[];const t=Pt.get(e)||await sr(e);return Pt.set(e,t),t},async getFileMetaData(e){if(!e)return null;const t=Ut.get(e)||await rr(e);return Ut.set(e,t),t},async getFileDownloadInfo(e,t){if(!e)return null;const n=`${e}.${t}`,s=Vt.get(n)||await ar(e,t);return Vt.set(n,s),s}},te=In("asset2",{state:()=>({activeAssetId:null,activeObjectId:null,activeFileObjectId:null}),actions:{async setActiveAsset(e,t){var s,r;const{asset:n}=await pe.getAssetWithTemplate(e);return n?(this.activeAssetId=e,t?this.setActiveObject(t):(this.activeObjectId=(s=n==null?void 0:n.firstObjectId)!=null?s:null,this.activeFileObjectId=(r=n==null?void 0:n.firstFileHandlerId)!=null?r:null,n)):(this.activeAssetId=null,this.activeObjectId=null,this.activeFileObjectId=null,null)},async setActiveObject(e){var n;const{asset:t}=await pe.getAssetWithTemplate(e);return this.activeObjectId=t?e:null,this.activeFileObjectId=(n=t==null?void 0:t.firstFileHandlerId)!=null?n:null,t}}}),hn=e=>(Cn("data-v-a50747b2"),e=e(),kn(),e),ir={class:"object-viewer"},or=hn(()=>_("h2",{class:"sr-only"},"Object Viewer",-1)),lr=["src"],ur={key:1,class:"w-full h-full min-h-[20rem] bg-neutral-400 place-items-center p-8"},cr=hn(()=>_("p",null,"No asset file found.",-1)),dr={class:"text-sm"},fr=y({__name:"ObjectViewer",props:{fileHandlerId:{type:[String,null],required:!0}},emits:["objectViewLoad"],setup(e,{emit:t}){tt(()=>{console.log("ObjectViewer mounted")});function n(){console.log("ObjectViewer iframe loaded"),t("objectViewLoad")}return(s,r)=>{var a;return o(),u("section",ir,[or,e.fileHandlerId?(o(),u("iframe",{key:0,class:"object-viewer__iframe w-full h-full min-h-[20rem]",src:`${c(R).instance.base.url}/asset/getEmbed/${e.fileHandlerId}`,frameBorder:"0",allowfullscreen:"true",onLoad:n},null,40,lr)):(o(),u("div",ur,[cr,_("code",dr,"FileHandlerId: "+I((a=e.fileHandlerId)!=null?a:"null"),1)]))])}}});const pr=h(fr,[["__scopeId","data-v-a50747b2"],["__file","/opt/elevator/assets/elevator-ui/src/components/ObjectViewer/ObjectViewer.vue"]]),vr=["title"],hr=["innerHTML"],_r=y({__name:"DrawerLabel",props:{label:{type:String,required:!0}},setup(e){return(t,n)=>(o(),u("h1",{class:"header-label font-bold relative text-left",title:e.label},[A(" eslint-disable-next-line vue/no-v-html "),_("span",{class:"min-w-0 block",innerHTML:e.label},null,8,hr)],8,vr))}}),_n=h(_r,[["__file","/opt/elevator/assets/elevator-ui/src/components/Drawer/DrawerLabel.vue"]]),mr={},gr={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},wr=_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"},null,-1),yr=[wr];function br(e,t){return o(),u("svg",gr,yr)}const ft=h(mr,[["render",br],["__file","/opt/elevator/assets/elevator-ui/src/icons/ChevronUpIcon.vue"]]),xr={class:"panel flex flex-col overflow-auto"},$r=["disabled"],Ar={key:0},Tr={class:"panel__header-utils"},Ir={class:"panel__body flex flex-col gap-6 px-4 md:p-8 flex-1"},Cr=y({__name:"Drawer",props:{label:{type:String,required:!0},isOpen:{type:Boolean,required:!1,default:!0},showToggle:{type:Boolean,required:!1,default:!0}},emits:["toggle"],setup(e){return(t,n)=>(o(),u("section",xr,[_("header",{class:z(["panel__header flex items-center sticky top-0 left-0 justify-between z-10 backdrop-blur-[2px]",{"h-full":!e.isOpen}])},[_("button",{disabled:!e.showToggle,class:"flex items-center p-4 leading-tight gap-4 flex-1",onClick:n[0]||(n[0]=s=>t.$emit("toggle"))},[e.showToggle?(o(),u("span",Ar,[e.isOpen?(o(),b(st,{key:0,class:"w-5 h-5"})):A("v-if",!0),e.isOpen?A("v-if",!0):(o(),b(ft,{key:1,class:"w-5 h-5"}))])):A("v-if",!0),S(t.$slots,"header-label",{},()=>[p(_n,{label:e.label,isOpen:e.isOpen},null,8,["label","isOpen"])],!0)],8,$r),_("div",Tr,[S(t.$slots,"header-utils",{},void 0,!0)])],2),On(_("div",Ir,[S(t.$slots,"default",{},void 0,!0)],512),[[Sn,e.isOpen]])]))}});const mn=h(Cr,[["__scopeId","data-v-196de012"],["__file","/opt/elevator/assets/elevator-ui/src/components/Drawer/Drawer.vue"]]);function kr(e,t){var n;return(n=e.widgetArray.find(s=>s.fieldTitle===t))!=null?n:null}const gn=e=>`${R.instance.base.url}/fileManager/tinyImageByFileId/${e}/true`,vl=e=>`${R.instance.base.url}/fileManager/previewImageByFileId/${e}/true`,wn=e=>`/asset/viewAsset/${e}`;function pt({asset:e,widget:t}){return e[t.fieldTitle]}function Or({widget:e,template:t,asset:n}){if(!n||!t||!n.titleObject)return!1;const s=kr(t,n.titleObject),r=pt({asset:n,widget:e});return!!s&&e.type==="text"&&e.fieldTitle===s.fieldTitle&&r.length===1}function Sr({asset:e,widget:t}){const n=pt({asset:e,widget:t});return n!=null}function Er({asset:e,template:t}){if(!(t&&e))return[];const n=t.widgetArray.filter(s=>s.display).filter(s=>Sr({asset:e,widget:s}));return n.length<2?n:n.filter(s=>!Or({widget:s,template:t,asset:e})).sort((s,r)=>s.viewOrder-r.viewOrder)}function Ee(e){var t,n;return(n=(t=e==null?void 0:e.title)==null?void 0:t[0])!=null?n:"(No Title)"}function yn(e,t){const n=e.trim().replace("?","").replace("...","");return t.clickToSearchType===0?R.instance.base.url+"/search/querySearch/"+encodeURIComponent(n):R.instance.base.url+"/search/scopedQuerySearch/"+t.fieldTitle+"/"+encodeURIComponent(n)}const Rr={class:"tuple__label"},Dr=O(" - "),qr={inheritAttrs:!1},Lr=y({...qr,__name:"Tuple",props:{label:{type:String,required:!0},variant:{type:String,required:!1,default:"stacked"}},setup(e){return(t,n)=>(o(),u("div",{class:z(["tuple",{"w-full":e.variant==="stacked","inline-flex items-baseline gap-2":e.variant==="inline"}])},[_("div",Rr,[S(t.$slots,"label",{},()=>[_("span",{class:z(["text-xs block uppercase leading-none mb-1 tracking-wide",{"font-bold":e.variant==="stacked","sr-only":e.variant==="value-only"}])},I(e.label),3)],!0)]),_("span",nt({class:"tuple__value block"},t.$attrs),[S(t.$slots,"default",{},()=>[Dr],!0)],16)],2))}});const F=h(Lr,[["__scopeId","data-v-c598533c"],["__file","/opt/elevator/assets/elevator-ui/src/components/Tuple/Tuple.vue"]]),jr={key:0},Wr=["href"],Br={key:1},Fr=y({__name:"ClickToSearchLink",props:{linkText:{type:String,required:!0},widget:{type:null,required:!0}},setup(e){const t=e,n=$(()=>yn(t.linkText,t.widget));return(s,r)=>t.widget.clickToSearch?(o(),u("span",jr,[_("a",{href:c(n)},[S(s.$slots,"default")],8,Wr)])):(o(),u("span",Br,[S(s.$slots,"default")]))}}),Re=h(Fr,[["__file","/opt/elevator/assets/elevator-ui/src/components/ClickToSearchLink/ClickToSearchLink.vue"]]),Mr=["innerHTML"],Nr=y({__name:"TextWidget",props:{widget:{type:null,required:!0},contents:{type:Array,required:!0}},setup(e){function t(n){return n.replace(/(<([^>]+)>)/gi,"")!=n?n:n.replace(/(https?:\/\/[a-zA-Z0-9\-_.:@!~*'(¥);/?&=+$,%#]+)/g,'<a href="$1" target="_blank">$1</a>')}return(n,s)=>(o(),u("ul",null,[(o(!0),u(C,null,q(e.contents,(r,a)=>(o(),u("li",{key:a},[p(Re,{widget:e.widget,linkText:r.fieldContents},{default:m(()=>[_("span",{innerHTML:t(r.fieldContents)},null,8,Mr)]),_:2},1032,["widget","linkText"])]))),128))]))}}),Pr=h(Nr,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/TextWidget/TextWidget.vue"]]),Ur=["innerHTML"],Vr=y({__name:"SelectItem",props:{selectValues:{type:null,required:!0},widget:{type:null,required:!0}},setup(e){const t=e,n=$(()=>typeof t.selectValues.fieldContents=="string"?[t.selectValues.fieldContents]:t.selectValues.fieldContents);function s(r){var a,i;return(a=t.widget.fieldData.selectGroup)!=null&&a.hasOwnProperty(r)?(i=t.widget.fieldData)==null?void 0:i.selectGroup[r]:r}return(r,a)=>(o(!0),u(C,null,q(c(n),(i,l)=>(o(),u("li",{key:l},[p(Re,{widget:e.widget,linkText:s(i)},{default:m(()=>[_("div",{innerHTML:s(i)},null,8,Ur)]),_:2},1032,["widget","linkText"])]))),128))}}),Hr=h(Vr,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/SelectWidget/SelectItem.vue"]]),zr=y({__name:"SelectWidget",props:{widget:{type:null,required:!0},contents:{type:Array,required:!0}},setup(e){return(t,n)=>(o(),u("ul",null,[(o(!0),u(C,null,q(e.contents,(s,r)=>(o(),b(Hr,{key:r,selectValues:s,widget:e.widget},null,8,["selectValues","widget"]))),128))]))}}),Jr=h(zr,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/SelectWidget/SelectWidget.vue"]]),Xr={},Kr={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},Gr=_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Qr=[Gr];function Yr(e,t){return o(),u("svg",Kr,Qr)}const Zr=h(Xr,[["render",Yr],["__file","/opt/elevator/assets/elevator-ui/src/icons/CircleCheckIcon.vue"]]),ea={},ta={viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5",class:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg"},na=_("circle",{cx:"12",cy:"12",r:"9"},null,-1),sa=[na];function ra(e,t){return o(),u("svg",ta,sa)}const aa=h(ea,[["render",ra],["__file","/opt/elevator/assets/elevator-ui/src/icons/CircleIcon.vue"]]),ia=y({__name:"CheckBoxWidget",props:{widget:{type:null,required:!0},contents:{type:Array,required:!0}},setup(e){return(t,n)=>(o(),u("ul",null,[(o(!0),u(C,null,q(e.contents,(s,r)=>(o(),u("li",{key:r},[s.fieldContents==!0?(o(),b(Zr,{key:0})):(o(),b(aa,{key:1}))]))),128))]))}}),oa=h(ia,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/CheckBoxWidget/CheckBoxWidget.vue"]]);/**
  shave - Shave is a javascript plugin that truncates multi-line text within a html element based on set max height
  @version v5.0.0
  @link https://github.com/yowainwright/shave#readme
  @author Jeff Wainwright <yowainwright@gmail.com> (jeffry.in)
  @license MIT
**/function Ht(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var s=n.call(e),r,a=[],i;try{for(;(t===void 0||t-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return a}function zt(e,t,n){if(n||arguments.length===2)for(var s=0,r=t.length,a;s<r;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}function la(e){return typeof e=="string"?zt([],Ht(document.querySelectorAll(e)),!1):"length"in e?zt([],Ht(e),!1):[e]}function ua(e,t,n){if(n===void 0&&(n={}),typeof t>"u"||isNaN(t))throw Error("maxHeight is required");var s=la(e);if(!!s.length)for(var r=n.character,a=r===void 0?"\u2026":r,i=n.classname,l=i===void 0?"js-shave":i,d=n.spaces,v=d===void 0?!0:d,w=n.charclassname,x=w===void 0?"js-shave-char":w,f=n.link,T=f===void 0?{}:f,D=typeof v=="boolean"?v:!0,U=T&&JSON.stringify(T)!=="{}"&&T.href,Y=U?"a":"span",J=0;J<s.length;J+=1){var k=s[J],W=k.style,me=k.querySelector("."+l),g=k.textContent===void 0?"innerText":"textContent";me&&(k.removeChild(k.querySelector("."+x)),k[g]=k[g]);var ge=k[g],V=D?ge.split(" "):ge;if(!(V.length<2)){var ne=W.height;W.height="auto";var de=W.maxHeight;if(W.maxHeight="none",k.offsetHeight<=t){W.height=ne,W.maxHeight=de;continue}var we=U&&T.textContent?T.textContent:a,X=document.createElement(Y),B={className:x,textContent:we};for(var K in B)X[K]=B[K],X.textContent=a;if(U)for(var H in T)X[H]=T[H];for(var G=V.length-1,Z=0,fe=void 0;Z<G;)fe=Z+G+1>>1,k[g]=D?V.slice(0,fe).join(" "):V.slice(0,fe),k.insertAdjacentElement("beforeend",X),k.offsetHeight>t?G=fe-1:Z=fe;k[g]=D?V.slice(0,G).join(" "):V.slice(0,G),k.insertAdjacentElement("beforeend",X);var An=D?" ".concat(V.slice(G).join(" ")):V.slice(G),Tn=document.createTextNode(An),ye=document.createElement("span");ye.classList.add(l),ye.style.display="none",ye.appendChild(Tn),k.insertAdjacentElement("beforeend",ye),W.height=ne,W.maxHeight=de}}}const ca=["innerHTML"],da=["innerHTML"],fa=y({__name:"TextAreaItem",props:{fieldContents:{type:String,required:!0},widget:{type:null,required:!0},textTruncationLength:{type:Number,required:!1,default:75}},setup(e){const t=e,n=L(!1),s=L(null),r=L(!1),a=Pn(()=>{i()},50);function i(){!s.value||(ua([s.value],t.textTruncationLength),r.value=s.value.querySelector(".js-shave")!==null)}return Nn(s,a),tt(()=>{i()}),(l,d)=>(o(),u(C,null,[n.value?A("v-if",!0):(o(),u("div",{key:0,ref_key:"truncateText",ref:s,innerHTML:e.fieldContents},null,8,ca)),n.value?(o(),u("div",{key:1,innerHTML:e.fieldContents},null,8,da)):A("v-if",!0),r.value?(o(),u("button",{key:2,class:"flex items-center uppercase text-xs text-blue-600",onClick:d[0]||(d[0]=v=>n.value=!n.value)},[O(" Show "+I(n.value?"Less":"More")+" ",1),n.value?(o(),b(ft,{key:0})):(o(),b(st,{key:1}))])):A("v-if",!0)],64))}}),pa=h(fa,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/TextAreaWidget/TextAreaItem.vue"]]),va=y({__name:"TextAreaWidget",props:{widget:{type:null,required:!0},contents:{type:Array,required:!0}},setup(e){return(t,n)=>(o(),u("ul",null,[(o(!0),u(C,null,q(e.contents,(s,r)=>{var a;return o(),u("li",{key:r},[p(pa,{widget:e.widget,fieldContents:(a=s.fieldContents)!=null?a:""},null,8,["widget","fieldContents"])])}),128))]))}}),ha=h(va,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/TextAreaWidget/TextAreaWidget.vue"]]),_a=y({__name:"DateWidgetItem",props:{dateContent:{type:null,required:!0},widget:{type:null,required:!0}},setup(e){const t=e,n=$(()=>{let s="";return s+=t.dateContent.start.text,t.dateContent.range&&(s+=" - "+t.dateContent.end.text),s});return(s,r)=>(o(),b(Re,{widget:e.widget,linkText:c(n)},{default:m(()=>[e.dateContent.label?(o(),b(F,{key:0,label:e.dateContent.label,variant:"inline"},{default:m(()=>[O(I(c(n)),1)]),_:1},8,["label"])):(o(),u(C,{key:1},[O(I(c(n)),1)],64))]),_:1},8,["widget","linkText"]))}}),ma=h(_a,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/DateWidget/DateWidgetItem.vue"]]),ga=y({__name:"DateWidget",props:{widget:{type:null,required:!0},contents:{type:Array,required:!0}},setup(e){return(t,n)=>(o(),u("ul",null,[(o(!0),u(C,null,q(e.contents,(s,r)=>(o(),u("li",{key:r},[p(ma,{dateContent:s,widget:e.widget},null,8,["dateContent","widget"])]))),128))]))}}),wa=h(ga,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/DateWidget/DateWidget.vue"]]),bn=(e,t)=>{let n=[];for(const s in e)t||n.push(s),typeof e[s]=="object"&&(n=n.concat(bn(e[s],!t)));return n.flat()},ya=e=>e.filter((t,n,s)=>s.indexOf(t)===n),ba={key:0},xa=y({__name:"MultiSelectItem",props:{widget:{type:null,required:!0},content:{type:null,required:!0}},setup(e){const t=e,n=$(()=>ya(bn(t.widget.fieldData,!1)).map(s)),s=a=>a.replace(/[^a-zA-Z0-9]+/,""),r=a=>{const i=[];for(const l of n.value)if(i.push(t.content.fieldContents[l]),l==a)return i.join(" : ");return i.join(" : ")};return(a,i)=>(o(),u("ul",null,[(o(!0),u(C,null,q(c(n),l=>(o(),u(C,{key:l},[e.content.fieldContents[l]?(o(),u("li",ba,[p(Re,{widget:e.widget,linkText:r(l)},{default:m(()=>[O(I(e.content.fieldContents[l]),1)]),_:2},1032,["widget","linkText"])])):A("v-if",!0)],64))),128))]))}});const $a=h(xa,[["__scopeId","data-v-443bc765"],["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/MultiSelectWidget/MultiSelectItem.vue"]]),Aa=y({__name:"MultiSelectWidget",props:{widget:{type:null,required:!0},contents:{type:Array,required:!0}},setup(e){return(t,n)=>(o(),u("ul",null,[(o(!0),u(C,null,q(e.contents,(s,r)=>(o(),u("li",{key:r},[p($a,{widget:e.widget,content:s},null,8,["widget","content"])]))),128))]))}}),Ta=h(Aa,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/MultiSelectWidget/MultiSelectWidget.vue"]]),Ia={},Ca={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},ka=_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),Oa=[ka];function Sa(e,t){return o(),u("svg",Ca,Oa)}const Ea=h(Ia,[["render",Sa],["__file","/opt/elevator/assets/elevator-ui/src/icons/XIcon.vue"]]),Ra=_("span",{class:"sr-only"},"Close",-1),Da=y({__name:"XButton",emits:["click"],setup(e){return(t,n)=>(o(),u("button",{class:"x-button inline-flex bg-transparent-black-50 text-neutral-700 w-8 h-8 rounded-full leading-none items-center justify-center transition ease-in-out hover:bg-transparent-black-900 hover:text-white",onClick:n[0]||(n[0]=s=>t.$emit("click"))},[p(Ea),Ra]))}}),qa=h(Da,[["__file","/opt/elevator/assets/elevator-ui/src/components/XButton/XButton.vue"]]),La={class:"modal-contents__header flex justify-between items-start p-4 md:p-8"},ja={class:"flex-1 font-bold text-2xl mr-12"},Wa={class:"modal-contents__body flex-1 overflow-auto p-4 md:p-8"},Ba=y({__name:"Modal",props:{label:{type:[String,null],required:!1,default:""},isOpen:{type:Boolean,required:!0,default:!1}},emits:["close"],setup(e,{emit:t}){const n=e,s=L();function r(a){n.isOpen&&a.keyCode===27&&t("close")}return tt(()=>{document.addEventListener("keydown",r)}),En(()=>document.removeEventListener("keydown",r)),(a,i)=>(o(),b(Dn,{to:"body"},[_("div",{ref_key:"modal",ref:s,class:z({"modal flex bg-transparent-black-700 fixed inset-0 z-50 justify-center items-center":e.isOpen,hidden:!e.isOpen}),onClick:i[1]||(i[1]=Rn(l=>a.$emit("close"),["self"]))},[_("div",nt({class:"modal-contents shadow-lg absolute rounded-2xl flex flex-col overflow-hidden max-w-[60rem] max-h-[80vh] m-auto w-full"},a.$attrs),[p(qa,{class:"absolute right-4 top-4 md:top-8 md:right-8",onClick:i[0]||(i[0]=l=>a.$emit("close"))}),_("header",La,[_("h2",ja,I(e.label),1)]),_("div",Wa,[S(a.$slots,"default",{},void 0,!0)])],16)],2)]))}});const De=h(Ba,[["__scopeId","data-v-907877e9"],["__file","/opt/elevator/assets/elevator-ui/src/components/Modal/Modal.vue"]]),Fa={class:"accordion overflow-hidden w-full mt-2 rounded"},Ma=["label"],Na={class:"flex place-items-center"},Pa={key:0,class:"accordion__body px-4 pt-2 pb-4 flex flex-col gap-4 border-t"},Ua=y({__name:"Accordion",props:{label:{type:String,required:!1,default:"-"}},emits:["toggle","open"],setup(e,{emit:t}){const n=L(!1);function s(){n.value=!n.value,t("toggle"),n.value&&t("open")}return(r,a)=>(o(),u("div",Fa,[_("button",{class:"accordion__header flex w-full justify-between items-center p-4 gap-2 border-none rounded-b-none",label:n.value?"close":"open",onClick:s},[S(r.$slots,"label",{},()=>[_("span",{class:z(["flex-1 block text-left",{"font-bold ":n.value,"font-normal":!n.value}])},I(e.label),3)],!0),_("div",Na,[S(r.$slots,"label-icon",{},()=>[n.value?(o(),b(ft,{key:0,class:"w-5 h-5"})):(o(),b(st,{key:1,class:"w-5 h-5"}))],!0)])],8,Ma),n.value?(o(),u("div",Pa,[S(r.$slots,"default",{},void 0,!0)])):A("v-if",!0)]))}});const vt=h(Ua,[["__scopeId","data-v-1340043d"],["__file","/opt/elevator/assets/elevator-ui/src/components/Accordion/Accordion.vue"]]),Va={key:0,class:"flex gap-6"},Ha={key:1},za={key:0,class:"my-4 flex gap-4 w-min"},Ja=O("Show Location"),Xa={class:"my-4 flex gap-4 w-min"},Ka=y({__name:"LocationItem",props:{locationContent:{type:null,required:!0},widget:{type:null,required:!0}},setup(e){const t=e,n=ie(()=>oe(()=>import("./Map.js"),["assets/Map.js","assets/Map.css","assets/index.js","assets/index.css","assets/DefaultLayout.js","assets/DefaultLayout.css","assets/mapConstants.js","assets/ThumbnailImage.js","assets/ThumbnailImage.css"])),s=ie(()=>oe(()=>import("./MapMarker.js"),["assets/MapMarker.js","assets/index.js","assets/index.css","assets/mapConstants.js","assets/DefaultLayout.js","assets/DefaultLayout.css","assets/ThumbnailImage.js","assets/ThumbnailImage.css"])),r=$(()=>{var f,T,D;return(D=(T=(f=t.locationContent.loc)==null?void 0:f.coordinates)==null?void 0:T[1])!=null?D:0}),a=$(()=>{var f,T,D;return(D=(T=(f=t.locationContent.loc)==null?void 0:f.coordinates)==null?void 0:T[0])!=null?D:0}),i=$(()=>a.value?a.value.toFixed(4):"-"),l=$(()=>r.value?r.value.toFixed(4):"-"),d=$(()=>({lng:a.value,lat:r.value})),v=$(()=>{var f;return(f=t.locationContent.locationLabel||t.locationContent.address)!=null?f:null}),w=$(()=>a.value!==0&&r.value!==0),x=L(!1);return(f,T)=>(o(),u(C,null,[p(vt,null,{label:m(()=>[c(v)?(o(),u("span",Ha,I(c(v)),1)):(o(),u("div",Va,[p(F,{label:"Latitude",class:"w-auto",variant:"inline"},{default:m(()=>[O(I(c(l)),1)]),_:1}),p(F,{label:"Longitude",class:"w-auto",variant:"inline"},{default:m(()=>[O(I(c(i)),1)]),_:1})]))]),default:m(()=>[c(v)?(o(),u("div",za,[p(F,{label:"Latitude",class:"w-auto"},{default:m(()=>[O(I(c(l)),1)]),_:1}),p(F,{label:"Longitude",class:"w-auto"},{default:m(()=>[O(I(c(i)),1)]),_:1})])):A("v-if",!0),c(w)?(o(),b(Ie,{key:1,icon:"map",iconPosition:"start",onClick:T[0]||(T[0]=D=>x.value=!0)},{default:m(()=>[Ja]),_:1})):A("v-if",!0)]),_:1}),p(De,{isOpen:x.value,label:c(v),onClose:T[1]||(T[1]=D=>x.value=!1)},{default:m(()=>[p(c(n),{center:c(d),zoom:10,mapStyle:"streets",apiKey:c(R).arcgis.apiKey,class:"rounded bg-neutral-100 p-1"},{default:m(()=>[p(c(s),{lng:c(d).lng,lat:c(d).lat},null,8,["lng","lat"])]),_:1},8,["center","apiKey"]),_("div",Xa,[p(F,{label:"Latitude",class:"w-auto"},{default:m(()=>[O(I(c(l)),1)]),_:1}),p(F,{label:"Longitude",class:"w-auto"},{default:m(()=>[O(I(c(i)),1)]),_:1})])]),_:1},8,["isOpen","label"])],64))}}),Ga=h(Ka,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/LocationWidget/LocationItem.vue"]]),Qa=y({__name:"LocationWidget",props:{widget:{type:null,required:!0},contents:{type:Array,required:!0}},setup(e){return(t,n)=>(o(),u("ul",null,[(o(!0),u(C,null,q(e.contents,(s,r)=>(o(),u("li",{key:r},[p(Ga,{widget:e.widget,locationContent:s},null,8,["widget","locationContent"])]))),128))]))}}),Ya=h(Qa,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/LocationWidget/LocationWidget.vue"]]),Za={class:"upload-widget flex gap-2 flex-wrap"},ei=["onClick"],ti=y({__name:"UploadWidget",props:{widget:{type:null,required:!0},contents:{type:Array,required:!0}},setup(e){const t=te(),n=s=>t.activeFileObjectId===s;return(s,r)=>(o(),u("div",Za,[(o(!0),u(C,null,q(e.contents,(a,i)=>(o(),u("button",{key:i,onClick:l=>c(t).activeFileObjectId=a.fileId},[p(Gt,{src:`${c(R).instance.base.url}/fileManager/tinyImageByFileId/${a.fileId}/true`,alt:a.fileDescription,isActive:n(a.fileId),iconOnHover:"arrow_forward"},null,8,["src","alt","isActive"])],8,ei))),128))]))}}),ni=h(ti,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/UploadWidget/UploadWidget.vue"]]),si=y({__name:"Chip",props:{href:{type:String,required:!1,default:void 0}},setup(e){return(t,n)=>(o(),b(Te(e.href?"a":"span"),{href:e.href,class:z(["chip inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-transparent-black-100 hover:no-underline no-underline text-neutral-700",{"chip--is-clickable border border-blue-700  bg-blue-100 text-blue-700 cursor-pointer hover:bg-blue-700 hover:text-white transition-colors ease-in-out":e.href}])},{default:m(()=>[S(t.$slots,"default",{},void 0,!0)]),_:3},8,["href","class"]))}});const ri=h(si,[["__scopeId","data-v-03fea1f8"],["__file","/opt/elevator/assets/elevator-ui/src/components/Chip/Chip.vue"]]),ai={class:"flex gap-2"},ii=y({__name:"TagWidget",props:{widget:{type:null,required:!0},contents:{type:Array,required:!0}},setup(e){return(t,n)=>(o(),u("ul",null,[(o(!0),u(C,null,q(e.contents,(s,r)=>(o(),u("li",{key:r},[_("ul",ai,[(o(!0),u(C,null,q(s.tags,(a,i)=>(o(),u("li",{key:i},[p(ri,{href:c(yn)(a,e.widget)},{default:m(()=>[O(I(a),1)]),_:2},1032,["href"])]))),128))])]))),128))]))}}),oi=h(ii,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/TagWidget/TagWidget.vue"]]);function qe(e){var t,n;return(n=(t=e==null?void 0:e.relatedAssetTitle)==null?void 0:t[0])!=null?n:"(No Title)"}const li={class:"accordion-related-asset-widget-item w-full max-w-lg"},ui={key:0,class:"flex gap-2 items-center w-full flex-1"},ci={class:"w-[2rem] h-[2rem] overflow-hidden rounded border"},di=["src","alt"],fi=y({__name:"AccordionRelatedAssetWidgetItem",props:{assetId:{type:String,required:!0},assetCache:{type:null,required:!0}},setup(e){const t=e,n=$(()=>qe(t.assetCache));return(s,r)=>{var a;return o(),u("div",li,[p(vt,{label:c(n)},qn({default:m(()=>[p(_e,{assetId:e.assetId},null,8,["assetId"]),S(s.$slots,"default")]),_:2},[(a=e.assetCache)!=null&&a.primaryHandler?{name:"label",fn:m(()=>{var i;return[(i=e.assetCache)!=null&&i.primaryHandler?(o(),u("div",ui,[_("div",ci,[_("img",{src:c(gn)(e.assetCache.primaryHandler),alt:c(n),class:"object-cover w-full h-full",loading:"lazy"},null,8,di)]),_("h3",null,I(c(n)),1)])):A("v-if",!0)]}),key:"0"}:void 0]),1032,["label"])])}}}),pi=h(fi,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/RelatedAssetWidget/AccordionRelatedAssetWidgetItem.vue"]]);function Le(e){const t=L(null),n=L(null),s=$(()=>t.value?Ee(t.value):"");async function r(){const{asset:a,template:i}=await pe.getAssetWithTemplate(e.value);t.value=a,n.value=i}return Ye(e,r,{immediate:!0}),{asset:t,template:n,title:s}}const vi={key:0,class:"collapsed-inline-related-asset-widget-item flex flex-col"},hi=y({__name:"CollapsedInlineRelatedAssetWidgetItem",props:{assetId:{type:String,required:!0},assetCache:{type:null,required:!0}},setup(e){const t=e,n=$(()=>qe(t.assetCache)),s=$(()=>t.assetId),{asset:r}=Le(s);return(a,i)=>c(r)?(o(),u("section",vi,[_("h3",null,I(c(n)),1),p(_e,{assetId:e.assetId},null,8,["assetId"])])):A("v-if",!0)}});const _i=h(hi,[["__scopeId","data-v-fd4a93b3"],["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/RelatedAssetWidget/CollapsedInlineRelatedAssetWidgetItem.vue"]]),mi={key:1,class:"flex flex-col gap-2"},gi=y({__name:"ThumbnailRelatedAssetWidgetItem",props:{assetId:{type:String,required:!0},assetCache:{type:null,required:!0}},setup(e){const t=e,n=te(),s=$(()=>qe(t.assetCache)),r=$(()=>n.activeObjectId===t.assetId);return(a,i)=>{const l=Ln("RouterLink");return o(),b(l,{title:c(s),class:"inline-flex mr-2 last:mr-0 thumbnail-related-asset-widget-image",to:`#${e.assetId}`},{default:m(()=>[e.assetCache.primaryHandler?(o(),b(Gt,{key:0,src:c(gn)(e.assetCache.primaryHandler),alt:c(s),isActive:c(r),iconOnHover:"arrow_forward"},null,8,["src","alt","isActive"])):(o(),u("div",mi,[_("p",null,I(c(s)),1),p(zn)]))]),_:1},8,["title","to"])}}});const wi=h(gi,[["__scopeId","data-v-9a1162c8"],["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/RelatedAssetWidget/ThumbnailRelatedAssetWidgetItem.vue"]]),yi=y({__name:"Link",props:{to:{type:String,required:!1},href:{type:String,required:!1}},setup(e){return(t,n)=>(o(),b(Te(e.to?c(jn):"a"),{to:e.to,href:e.href,class:"cursor-pointer"},{default:m(()=>[S(t.$slots,"default")]),_:3},8,["to","href"]))}}),bi=h(yi,[["__file","/opt/elevator/assets/elevator-ui/src/components/Link/Link.vue"]]),xi={class:"linked-related-asset-widget-item"},$i=y({__name:"LinkedRelatedAssetWidgetItem",props:{assetId:{type:String,required:!0},assetCache:{type:null,required:!0}},setup(e){const t=e,n=$(()=>qe(t.assetCache)),s=$(()=>wn(t.assetId));return(r,a)=>(o(),u("div",xi,[p(bi,{to:c(s)},{default:m(()=>[O(I(c(n)),1)]),_:1},8,["to"])]))}}),Ai=h($i,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/RelatedAssetWidget/LinkedRelatedAssetWidgetItem.vue"]]),Ti=y({__name:"ArrowButton",setup(e){return(t,n)=>(o(),b(Ie,nt({class:"arrow-button rounded-full p-2",variant:"primary"},t.$attrs),{default:m(()=>[S(t.$slots,"default"),p(Jn)]),_:3},16))}}),xn=h(Ti,[["__file","/opt/elevator/assets/elevator-ui/src/components/ArrowButton/ArrowButton.vue"]]),Ii={class:"related-asset-widget flex gap-x-2 w-full"},Ci={class:"flex justify-end items-center gap-2"},ki=y({__name:"RelatedAssetWidget",props:{widget:{type:null,required:!0},contents:{type:Array,required:!0},asset:{type:null,required:!0}},setup(e){const t=e,n=$(()=>t.widget.fieldData.collapseNestedChildren?_i:t.widget.fieldData.thumbnailView?wi:t.widget.fieldData.nestData?pi:Ai),s=$(()=>t.contents.filter(r=>!!r.targetAssetId));return(r,a)=>(o(),u("div",Ii,[(o(!0),u(C,null,q(c(s),i=>{var l,d;return o(),b(Te(c(n)),{key:i.targetAssetId,assetId:i.targetAssetId,assetCache:(l=e.asset.relatedAssetCache)==null?void 0:l[i.targetAssetId],label:(d=i.label)!=null?d:""},{default:m(()=>[_("div",Ci,[p(xn,{to:`/asset/viewAsset/${i.targetAssetId}`},null,8,["to"])])]),_:2},1032,["assetId","assetCache","label"])}),128))]))}}),Oi=h(ki,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/RelatedAssetWidget/RelatedAssetWidget.vue"]]),Si=y({__name:"Widget",props:{widget:{type:null,required:!0},asset:{type:null,required:!0}},setup(e){const t=e,n=$(()=>pt({asset:t.asset,widget:t.widget})),s={text:Pr,select:Jr,checkbox:oa,"text area":ha,date:wa,multiselect:Ta,location:Ya,upload:ni,"tag list":oi,"related asset":Oi};function r(a){return s[a]||null}return(a,i)=>(o(),b(F,{label:e.widget.label},{default:m(()=>[r(e.widget.type)?(o(),b(Te(r(e.widget.type)),{key:0,widget:e.widget,contents:c(n),asset:e.asset},null,8,["widget","contents","asset"])):A("v-if",!0)]),_:1},8,["label"]))}}),Ei=h(Si,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/Widget.vue"]]),Ri={key:0,class:"widget-list flex flex-col"},Di=y({__name:"WidgetList",props:{assetId:{type:String,required:!0}},setup(e){const t=e,n=$(()=>t.assetId),{asset:s,template:r}=Le(n),a=$(()=>Er({asset:s.value,template:r.value}));return(i,l)=>(o(),b(Wn,{name:"fade"},{default:m(()=>[c(s)&&c(r)?(o(),u("div",Ri,[(o(!0),u(C,null,q(c(a),d=>(o(),b(Ei,{key:d.widgetId,widget:d,asset:c(s)},null,8,["widget","asset"]))),128))])):A("v-if",!0)]),_:1}))}});const _e=h(Di,[["__scopeId","data-v-2dd18f03"],["__file","/opt/elevator/assets/elevator-ui/src/components/WidgetList/WidgetList.vue"]]),qi={},Li={class:"p-2 flex items-center"};function ji(e,t){return o(),u("button",Li,[S(e.$slots,"default")])}const ht=h(qi,[["render",ji],["__file","/opt/elevator/assets/elevator-ui/src/components/ActiveFileViewToolbar/ActiveFileViewButton.vue"]]),Wi={},Bi={class:"rounded-md max-w-sm w-full py-4"},Fi=Bn('<div class="animate-pulse flex space-x-4"><div class="flex-1 space-y-6 py-1"><div class="h-4 bg-neutral-300 rounded w-1/2"></div><div class="h-2 bg-neutral-300 rounded"></div><div class="space-y-3"><div class="grid grid-cols-3 gap-4"><div class="h-2 bg-neutral-300 rounded col-span-2"></div><div class="h-2 bg-neutral-300 rounded col-span-1"></div></div><div class="h-2 bg-neutral-50 rounded"></div></div></div></div>',1),Mi=[Fi];function Ni(e,t){return o(),u("div",Bi,Mi)}const Pi=h(Wi,[["render",Ni],["__file","/opt/elevator/assets/elevator-ui/src/components/Skeleton/Skeleton.vue"]]),Ui={},Vi={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},Hi=_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"},null,-1),zi=[Hi];function Ji(e,t){return o(),u("svg",Vi,zi)}const Xi=h(Ui,[["render",Ji],["__file","/opt/elevator/assets/elevator-ui/src/icons/InfoIcon.vue"]]),Ki={key:0},Gi={key:1},Qi={key:0},Yi={key:1,class:"flex flex-col gap-6"},Zi={class:"bg-neutral-200 p-4 rounded-xl"},eo={key:2},to=_("h2",{class:"text-xl font-bold mt-6 border-t pt-6"},"EXIF Details",-1),no=y({__name:"MoreFileInfoButton",setup(e){const t=ie(()=>oe(()=>import("./Map.js"),["assets/Map.js","assets/Map.css","assets/index.js","assets/index.css","assets/DefaultLayout.js","assets/DefaultLayout.css","assets/mapConstants.js","assets/ThumbnailImage.js","assets/ThumbnailImage.css"])),n=ie(()=>oe(()=>import("./MapMarker.js"),["assets/MapMarker.js","assets/index.js","assets/index.css","assets/mapConstants.js","assets/DefaultLayout.js","assets/DefaultLayout.css","assets/ThumbnailImage.js","assets/ThumbnailImage.css"])),s=L(!1),r=L(void 0),a=$(()=>r.value!==void 0),i=te();async function l(){s.value=!s.value,r.value=void 0,r.value=await pe.getFileMetaData(i.activeFileObjectId)}return(d,v)=>(o(),u(C,null,[p(ht,{onClick:l},{default:m(()=>[p(Xi)]),_:1}),p(De,{label:"File Info",isOpen:s.value,class:"max-w-4xl m-auto",onClose:v[0]||(v[0]=w=>s.value=!1)},{default:m(()=>{var w;return[c(a)?A("v-if",!0):(o(),u("div",Ki,[(o(),u(C,null,q(10,x=>p(Pi,{key:x})),64))])),c(a)?(o(),u("div",Gi,[r.value?A("v-if",!0):(o(),u("span",Qi,"No meta data found.")),r.value?(o(),u("section",Yi,[p(F,{label:"File Type"},{default:m(()=>[O(I(r.value.exif.File.FileType),1)]),_:1}),p(F,{label:"Original Name"},{default:m(()=>[O(I(r.value.sourcefile),1)]),_:1}),p(F,{label:"File Size"},{default:m(()=>[O(I(r.value.exif.File.FileSize),1)]),_:1}),p(F,{label:"Image Size"},{default:m(()=>[O(I(r.value.width)+"x"+I(r.value.height),1)]),_:1}),r.value.coordinates?(o(),b(F,{key:0,label:"Location"},{default:m(()=>[_("div",Zi,[p(c(t),{center:{lng:r.value.coordinates[0],lat:r.value.coordinates[1]},zoom:10,mapStyle:"streets",apiKey:c(R).arcgis.apiKey,class:""},{default:m(()=>[p(c(n),{lng:r.value.coordinates[0],lat:r.value.coordinates[1]},null,8,["lng","lat"])]),_:1},8,["center","apiKey"])])]),_:1})):A("v-if",!0)])):A("v-if",!0),(w=r.value)!=null&&w.exif?(o(),u("section",eo,[to,(o(!0),u(C,null,q(r.value.exif,(x,f)=>(o(),b(vt,{key:f,label:f,class:"border mt-6"},{default:m(()=>[(o(!0),u(C,null,q(x,(T,D)=>(o(),b(F,{key:D,label:D},{default:m(()=>[O(I(T),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["label"]))),128))])):A("v-if",!0)])):A("v-if",!0)]}),_:1},8,["isOpen"])],64))}}),so=h(no,[["__file","/opt/elevator/assets/elevator-ui/src/components/ActiveFileViewToolbar/MoreFileInfoButton.vue"]]),ro={},ao={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},io=_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"},null,-1),oo=[io];function lo(e,t){return o(),u("svg",ao,oo)}const uo=h(ro,[["render",lo],["__file","/opt/elevator/assets/elevator-ui/src/icons/DownloadIcon.vue"]]),co={key:0},fo={key:0},po={key:1},vo={key:0},ho=["href"],_o=y({__name:"DownloadFileButton",setup(e){const t=te(),n=L(!1),s=L(void 0),r=$(()=>s.value!==void 0),a=l=>{const d=l.split(".");return d[d.length-1]};async function i(){n.value=!0,s.value=void 0,s.value=await pe.getFileDownloadInfo(t.activeFileObjectId,t.activeAssetId)}return(l,d)=>(o(),u(C,null,[p(ht,{onClick:i},{default:m(()=>[p(uo)]),_:1}),p(De,{label:"File Downloads",isOpen:n.value,onClose:d[0]||(d[0]=v=>n.value=!1)},{default:m(()=>{var v;return[c(r)?(o(),u("div",co,[s.value?A("v-if",!0):(o(),u("span",fo,"No Downloads available")),s.value?(o(),u("ul",po,[(v=s.value.screen)!=null&&v.ready?(o(),u("li",vo,[_("a",{href:`${c(R).instance.base.url}/fileManager/getDerivativeById/${c(t).activeFileObjectId}/screen`}," Download Derivative ("+I(a(s.value.screen.originalFilename))+") ",9,ho)])):A("v-if",!0)])):A("v-if",!0)])):A("v-if",!0)]}),_:1},8,["isOpen"])],64))}}),mo=h(_o,[["__file","/opt/elevator/assets/elevator-ui/src/components/ActiveFileViewToolbar/DownloadFileButton.vue"]]),go={class:"flex justify-between items-baseline"},wo={for:"share-embed",class:"block text-sm font-medium text-gray-700"},yo={class:"mt-1 flex rounded-md shadow-sm relative"},bo=["placeholder","value"],xo=y({__name:"TextArea",props:{label:{type:String,required:!0},value:{type:String,required:!0},placeholder:{type:String,required:!1,default:""}},emits:["input"],setup(e){return(t,n)=>(o(),u("div",null,[_("div",go,[S(t.$slots,"label",{},()=>[_("label",wo,I(e.label),1)]),_("div",null,[S(t.$slots,"corner")])]),_("div",yo,[_("textarea",{id:"share-embed",name:"share-embed",class:"block w-full rounded border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 font-mono text-neutral-500 focus:text-neutral-900 h-24",placeholder:e.placeholder,value:e.value,onInput:n[0]||(n[0]=s=>t.$emit("input",s))},null,40,bo)])]))}}),$o=h(xo,[["__file","/opt/elevator/assets/elevator-ui/src/components/TextArea/TextArea.vue"]]),Ao=y({__name:"CopyableTextArea",props:{label:{type:String,required:!0},value:{type:String,required:!0},placeholder:{type:String,required:!1,default:""}},setup(e){const n=Fn(e,"value"),{copy:s,copied:r}=Un({source:n,copiedDuring:3e3});return(a,i)=>(o(),b($o,{label:e.label,value:e.value,placeholder:e.placeholder},{corner:m(()=>[p(Ie,{icon:c(r)?"check":"content_copy",variant:"tertiary",onClick:i[0]||(i[0]=l=>c(s)())},{default:m(()=>[A(" eslint-disable-next-line vue/no-textarea-mustache"),O(I(c(r)?"Copied":"Copy"),1)]),_:1},8,["icon"])]),_:1},8,["label","value","placeholder"]))}}),Jt=h(Ao,[["__file","/opt/elevator/assets/elevator-ui/src/components/CopyableTextArea/CopyableTextArea.vue"]]),To={},Io={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},Co=_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 103.935 2.186 2.25 2.25 0 00-3.935-2.186zm0-12.814a2.25 2.25 0 103.933-2.185 2.25 2.25 0 00-3.933 2.185z"},null,-1),ko=[Co];function Oo(e,t){return o(),u("svg",Io,ko)}const So=h(To,[["render",Oo],["__file","/opt/elevator/assets/elevator-ui/src/icons/ShareIcon.vue"]]),Eo={class:"flex flex-col gap-4"},Ro=O("Open Viewer in New Window"),Do=y({__name:"ShareButton",setup(e){const t=te(),n=i=>i.replace(/\s+/g," ").trim(),s=L(!1),r=$(()=>`${R.instance.base.url}/asset/getEmbed/${t.activeFileObjectId}/null/true`),a=$(()=>n(`
  <iframe width="560" height="480" src="${r.value}" frameborder="0" allowfullscreen></iframe>`));return(i,l)=>(o(),u(C,null,[p(ht,{onClick:l[0]||(l[0]=d=>s.value=!s.value)},{default:m(()=>[p(So)]),_:1}),p(De,{label:"Share",isOpen:s.value,class:"max-w-xl mx-auto",onClose:l[1]||(l[1]=d=>s.value=!1)},{default:m(()=>[_("div",Eo,[p(Jt,{label:"Embed",value:c(a)},null,8,["value"]),p(Jt,{label:"Link",value:c(r)},null,8,["value"]),p(Ie,{icon:"open_in_new",label:"Open in New Window",href:c(r),target:"_blank"},{default:m(()=>[Ro]),_:1},8,["href"])])]),_:1},8,["isOpen"])],64))}}),qo=h(Do,[["__file","/opt/elevator/assets/elevator-ui/src/components/ActiveFileViewToolbar/ShareButton.vue"]]),Lo={class:"object-toolbar"},jo={class:"flex justify-between items-center w-full px-4 py-2"},Wo={class:"flex gap-1 items-center leading-none"},Bo=y({__name:"ActiveFileViewToolbar",setup(e){return(t,n)=>(o(),u("div",Lo,[_("div",jo,[_("div",Wo,[p(so),p(mo),p(qo)])])]))}}),Xt=h(Bo,[["__file","/opt/elevator/assets/elevator-ui/src/components/ActiveFileViewToolbar/ActiveFileViewToolbar.vue"]]),Fo={class:"object-details"},Mo={key:0,class:"h-full flex justify-end"},No={key:1,class:"flex gap-2"},Po=y({__name:"ObjectDetailsDrawer",props:{objectId:{type:[String,null],required:!0},isOpen:{type:Boolean,required:!0,default:!1},showToggle:{type:Boolean,required:!1,default:!0}},emits:["toggle"],setup(e){const t=e,n=$(()=>t.objectId?wn(t.objectId):null);return(s,r)=>(o(),u("div",Fo,[e.objectId?(o(),b(mn,{key:1,label:"Details",variant:"secondary",isOpen:e.isOpen,showToggle:e.showToggle,class:"h-full",onToggle:r[0]||(r[0]=a=>s.$emit("toggle"))},{"header-utils":m(()=>[p(Xt)]),default:m(()=>[e.objectId?(o(),b(_e,{key:0,assetId:e.objectId},null,8,["assetId"])):A("v-if",!0),e.objectId?(o(),u("footer",No,[c(n)?(o(),b(xn,{key:0,to:c(n)},null,8,["to"])):A("v-if",!0)])):A("v-if",!0)]),_:1},8,["isOpen","showToggle"])):(o(),u("div",Mo,[p(Xt)]))]))}}),Uo=h(Po,[["__file","/opt/elevator/assets/elevator-ui/src/components/ObjectDetailsDrawer/ObjectDetailsDrawer.vue"]]),Vo={class:"asset-details"},Ho=y({__name:"AssetDetailsDrawer",props:{assetId:{type:[String,null],required:!0},isOpen:{type:Boolean,required:!1,default:!0},showToggle:{type:Boolean,required:!1,default:!0}},emits:["toggle"],setup(e){const t=e,n=$(()=>t.assetId),{asset:s}=Le(n),r=$(()=>s.value?Ee(s.value):"");return(a,i)=>(o(),u("div",Vo,[p(mn,{label:c(r),isOpen:e.isOpen,showToggle:e.showToggle,class:"h-full",onToggle:i[0]||(i[0]=l=>a.$emit("toggle"))},{"header-label":m(()=>[p(_n,{label:c(r),class:z({"text-2xl":e.isOpen})},null,8,["label","class"])]),default:m(()=>[e.assetId?(o(),b(_e,{key:0,assetId:e.assetId},null,8,["assetId"])):A("v-if",!0),S(a.$slots,"default")]),_:3},8,["label","isOpen","showToggle"])]))}}),zo=h(Ho,[["__file","/opt/elevator/assets/elevator-ui/src/components/AssetDetailsDrawer/AssetDetailsDrawer.vue"]]),Jo={class:"asset-view h-full relative"},Xo=y({__name:"AssetView",props:{assetId:{type:[String,null],required:!0},objectId:{type:[String,null],required:!1}},setup(e){const t=ie(()=>oe(()=>import("./MoreLikeThis.js"),["assets/MoreLikeThis.js","assets/MoreLikeThis.css","assets/index.js","assets/index.css","assets/ThumbnailImage.js","assets/ThumbnailImage.css","assets/DefaultLayout.js","assets/DefaultLayout.css"])),n=L(!0),s=L(!1),r=L(!1),a=te();function i(){r.value=!0}const l=Vn("(min-width: 768px)");return(d,v)=>(o(),u("div",Jo,[p(pr,{class:z(["asset-view__object-viewer h-[75vh] md:h-auto md:absolute md:top-0 border-t-0 border-b-asset-view",{"md:top-0 md:bottom-1/2 md:left-sm md:right-0 border-l-asset-view":n.value&&s.value,"md:top-0 md:bottom-16 md:left-sm md:right-0 border-l-asset-view":n.value&&!s.value,"md:top-0 md:bottom-16 md:left-0 md:right-sm border-r-asset-view":!n.value&&s.value,"md:top-0 md:bottom-16 md:left-0 md:right-0":!n.value&&!s.value}]),fileHandlerId:c(a).activeFileObjectId,onObjectViewLoad:i},null,8,["class","fileHandlerId"]),p(zo,{class:z(["asset-view__asset-panel md:absolute",{"asset-view__asset-panel--open":n.value,"md:bottom-0 md:left-0 md:top-0 md:w-sm":n.value,"md:bottom-0 md:left-0 md:h-16 md:right-sm border-r-asset-view":!n.value&&s.value,"md:bottom-0 md:left-0 md:h-16 md:w-1/2":!n.value&&!s.value}]),showToggle:c(l),assetId:c(a).activeAssetId,isOpen:c(l)?n.value:!0,onToggle:v[0]||(v[0]=w=>n.value=!n.value)},{default:m(()=>[e.assetId&&r.value?(o(),b(c(t),{key:0,assetId:e.assetId},null,8,["assetId"])):A("v-if",!0)]),_:1},8,["class","showToggle","assetId","isOpen"]),p(Uo,{class:z(["asset-view__details-panel md:absolute",{"asset-view__details-panel--open":s.value,"border-l-asset-view":!s.value,"md:bottom-0 md:right-0 md:h-16 md:left-sm":!s.value&&n.value,"md:bottom-0 md:right-0 md:h-1/2 md:left-sm border-l-asset-view":s.value&&n.value,"md:bottom-0 md:right-0 md:top-0 md:w-sm":s.value&&!n.value,"md:bottom-0 md:right-0 md:h-16 md:w-1/2":!s.value&&!n.value}]),showToggle:c(l),objectId:c(a).activeObjectId,isOpen:c(l)?s.value:!0,onToggle:v[1]||(v[1]=w=>s.value=!s.value)},null,8,["class","showToggle","objectId","isOpen"])]))}});const Ko=h(Xo,[["__scopeId","data-v-9c0838de"],["__file","/opt/elevator/assets/elevator-ui/src/pages/AssetViewPage/AssetView.vue"]]),Go={class:"meta-data-only-view h-full sm:p-8"},Qo={class:"meta-data-only-view__article m-auto sm:max-w-3xl h-full overflow-auto p-4 sm:p-12 rounded shadow sm:px-12"},Yo={class:"text-3xl mb-12 sm:text-5xl font-bold py-8 after:content-[''] after:w-8 after:h-2 after:block relative after:absolute after:bottom-0 after:left-0"},Zo=y({__name:"MetaDataOnlyView",props:{assetId:{type:[String,null],required:!0}},setup(e){const t=e,n=ie(()=>oe(()=>import("./MoreLikeThis.js"),["assets/MoreLikeThis.js","assets/MoreLikeThis.css","assets/index.js","assets/index.css","assets/ThumbnailImage.js","assets/ThumbnailImage.css","assets/DefaultLayout.js","assets/DefaultLayout.css"])),s=$(()=>t.assetId),{asset:r}=Le(s),a=$(()=>r.value?Ee(r.value):"Unknown");return(i,l)=>(o(),u("div",Go,[_("article",Qo,[_("h2",Yo,I(c(a)),1),e.assetId?(o(),b(_e,{key:0,assetId:e.assetId},null,8,["assetId"])):A("v-if",!0),e.assetId?(o(),b(c(n),{key:1,assetId:e.assetId},null,8,["assetId"])):A("v-if",!0)])]))}});const el=h(Zo,[["__scopeId","data-v-732f00e0"],["__file","/opt/elevator/assets/elevator-ui/src/pages/AssetViewPage/MetaDataOnlyView.vue"]]);function Kt(e){return e==" "||e==`
`||e=="\r"||e=="	"}function tl(e){return e=='"'||e=="'"}const ae="<",je=">",Ae="&lt;",$n="&gt;";class ve{constructor(t){this.options=t}consume(t,n){return t==ae?(n(new nl(this.options)),""):t==je&&this.options.encodePlaintextTagDelimiters?$n:t}}class nl{constructor(t){this.options=t,this.nameBuffer="",this.isClosingTag=!1}consume(t,n){if(this.nameBuffer.length==0){if(Kt(t))return n(new ve(this.options)),(this.options.encodePlaintextTagDelimiters?Ae:"<")+t;if(t=="/")return this.isClosingTag=!0,""}return Kt(t)?this.isNameBufferAnAllowedTag()?(n(new et(0,this.options)),ae+(this.isClosingTag?"/":"")+this.nameBuffer+t):(n(new et(1,this.options)),this.options.tagReplacementText):t==ae?(this.nameBuffer+=Ae,""):t==je?(n(new ve(this.options)),this.isNameBufferAnAllowedTag()?ae+(this.isClosingTag?"/":"")+this.nameBuffer+t:this.options.tagReplacementText):t=="-"&&this.nameBuffer=="!-"?(n(new rl(this.options)),""):(this.nameBuffer+=t,"")}isNameBufferAnAllowedTag(){const t=this.nameBuffer.toLowerCase();return this.options.allowedTags?this.options.allowedTags.has(t):this.options.disallowedTags?!this.options.disallowedTags.has(t):!1}}class et{constructor(t,n){this.mode=t,this.options=n}consume(t,n){return t==je?n(new ve(this.options)):tl(t)&&n(new sl(this.mode,t,this.options)),this.mode==1?"":t==ae?Ae:t}}class sl{constructor(t,n,s){this.mode=t,this.quoteCharacter=n,this.options=s}consume(t,n){return t==this.quoteCharacter&&n(new et(this.mode,this.options)),this.mode==1?"":t==ae?Ae:t==je?$n:t}}class rl{constructor(t){this.options=t,this.consecutiveHyphens=0}consume(t,n){return t==">"&&this.consecutiveHyphens>=2?n(new ve(this.options)):t=="-"?this.consecutiveHyphens++:this.consecutiveHyphens=0,""}}const al={tagReplacementText:"",encodePlaintextTagDelimiters:!0};class il{constructor(t={}){this.state=new ve(Object.assign(Object.assign({},al),t)),this.transitionFunction=(n=>{this.state=n}).bind(this)}consume(t){let n="";for(const s of t)n+=this.state.consume(s,this.transitionFunction);return n}}function ol(e,t={}){return new il(t).consume(e)}const ll=y({__name:"AssetViewPage",props:{assetId:{type:String,required:!0},objectId:{type:[String,null],required:!1,default:null}},setup(e){const t=e,n=te(),s=$(()=>!n.activeFileObjectId),r=L(!1),a=Mn(),i=$(()=>{var v;return((v=a.hash)==null?void 0:v.substring(1))||t.objectId||null}),l=_t(`Loading... | ${R.instance.name}`);async function d(){r.value=!1;const v=await n.setActiveAsset(t.assetId,i.value);if(!v){l.value=`Asset not found | ${R.instance.name}`,r.value=!0;return}const w=Ee(v);l.value=`${ol(w)} | ${R.instance.name}`,_t(l),r.value=!0}return Ye([()=>t.assetId,()=>{var v;return(v=a.params)==null?void 0:v.assetId}],d,{immediate:!0}),Ye([()=>t.objectId,()=>a.hash],async()=>{await n.setActiveObject(i.value)}),(v,w)=>r.value?(o(),b(Hn,{key:0},{default:m(()=>[c(s)?(o(),b(el,{key:0,assetId:c(n).activeAssetId},null,8,["assetId"])):(o(),b(Ko,{key:1,assetId:c(n).activeAssetId,objectId:c(n).activeObjectId},null,8,["assetId","objectId"]))]),_:1})):A("v-if",!0)}}),ul=h(ll,[["__file","/opt/elevator/assets/elevator-ui/src/pages/AssetViewPage/AssetViewPage.vue"]]),hl=Object.freeze(Object.defineProperty({__proto__:null,default:ul},Symbol.toStringTag,{value:"Module"}));export{xn as A,bi as L,wn as a,pe as b,pl as c,hl as d,vl as g};
//# sourceMappingURL=AssetViewPage.js.map
